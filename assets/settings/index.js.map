{"version":3,"file":"settings/index.js","mappings":"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","sources":["webpack://sharing-image/./src/settings/pages/catalog/styles.scss","webpack://sharing-image/./src/settings/pages/config/styles.scss","webpack://sharing-image/./src/settings/pages/editor/styles.scss","webpack://sharing-image/./src/settings/pages/premium/styles.scss","webpack://sharing-image/./src/settings/pages/tools/styles.scss","webpack://sharing-image/./src/settings/styles.scss","webpack://sharing-image/./src/builders/checkbox.js","webpack://sharing-image/./src/builders/control.js","webpack://sharing-image/./src/builders/element.js","webpack://sharing-image/./src/builders/index.js","webpack://sharing-image/./src/builders/input.js","webpack://sharing-image/./src/builders/layer.js","webpack://sharing-image/./src/builders/media.js","webpack://sharing-image/./src/builders/radio.js","webpack://sharing-image/./src/builders/select.js","webpack://sharing-image/./src/builders/textarea.js","webpack://sharing-image/./src/helpers/attachment.js","webpack://sharing-image/./src/helpers/dataget.js","webpack://sharing-image/./src/helpers/defaults.js","webpack://sharing-image/./src/helpers/index.js","webpack://sharing-image/./src/helpers/param.js","webpack://sharing-image/./src/helpers/uniqid.js","webpack://sharing-image/./src/settings/pages/catalog/index.js","webpack://sharing-image/./src/settings/pages/config/index.js","webpack://sharing-image/./src/settings/pages/editor/index.js","webpack://sharing-image/./src/settings/pages/premium/index.js","webpack://sharing-image/./src/settings/pages/tools/index.js","webpack://sharing-image/./node_modules/nanoid/index.browser.js","webpack://sharing-image/./node_modules/nanoid/url-alphabet/index.js","webpack://sharing-image/webpack/bootstrap","webpack://sharing-image/webpack/runtime/define property getters","webpack://sharing-image/webpack/runtime/hasOwnProperty shorthand","webpack://sharing-image/webpack/runtime/make namespace object","webpack://sharing-image/./src/settings/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","import buildElement from './element.js';\n\n/**\n * Helper to create radio field.\n *\n * @param {Object}      args   List of control options.\n * @param {HTMLElement} parent Parent HTML element to append this field.\n */\nfunction buildCheckbox( args, parent ) {\n\tconst field = buildElement( 'label', {\n\t\tclasses: args.classes || [],\n\t\tappend: parent,\n\t} );\n\n\tconst checkbox = buildElement( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'checkbox',\n\t\t},\n\t\tdataset: args.dataset || {},\n\t\tappend: field,\n\t} );\n\n\t// Set attributes\n\tif ( args.hasOwnProperty( 'attributes' ) ) {\n\t\tfor ( const key in args.attributes ) {\n\t\t\tconst value = args.attributes[ key ];\n\n\t\t\tif ( undefined === value ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tcheckbox.setAttribute( key, value );\n\t\t}\n\t}\n\n\tif ( args.hasOwnProperty( 'checked' ) ) {\n\t\tconst checked = args.checked;\n\n\t\tif ( checked && checked === checkbox.value ) {\n\t\t\tcheckbox.setAttribute( 'checked', 'checked' );\n\t\t}\n\t}\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tconst label = buildElement( 'span', {\n\t\t\ttext: args.label,\n\t\t} );\n\n\t\tif ( null !== args.label ) {\n\t\t\tfield.appendChild( label );\n\t\t}\n\t}\n\n\treturn checkbox;\n}\n\nexport default buildCheckbox;\n","import buildElement from './element';\n\nimport buildInput from './input';\nimport buildCheckbox from './checkbox';\nimport buildRadio from './radio';\nimport buildSelect from './select';\nimport buildTextarea from './textarea';\n\n/**\n * Helper to create control.\n *\n * @param {Object} args List of control options.\n */\nfunction buildControl( args ) {\n\tconst control = buildElement( 'div', {\n\t\tclasses: args.classes || [],\n\t} );\n\n\tif ( args.hasOwnProperty( 'append' ) ) {\n\t\targs.append.appendChild( control );\n\t}\n\n\tif ( args.hasOwnProperty( 'prepend' ) ) {\n\t\targs.prepend.insertBefore( control, args.prepend.firstChild );\n\t}\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tbuildElement( 'h3', {\n\t\t\ttext: args.label,\n\t\t\tappend: control,\n\t\t} );\n\t}\n\n\tif ( args.hasOwnProperty( 'description' ) ) {\n\t\tbuildElement( 'p', {\n\t\t\ttext: args.description,\n\t\t\tappend: control,\n\t\t} );\n\t}\n\n\tif ( args.hasOwnProperty( 'fields' ) ) {\n\t\targs.fields.forEach( ( field ) => {\n\t\t\tswitch ( field.group ) {\n\t\t\t\tcase 'input':\n\t\t\t\t\tbuildInput( field, control );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'textarea':\n\t\t\t\t\tbuildTextarea( field, control );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'radio':\n\t\t\t\t\tbuildRadio( field, control );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'select':\n\t\t\t\t\tbuildSelect( field, control );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'checkbox':\n\t\t\t\t\tbuildCheckbox( field, control );\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} );\n\t}\n\n\tif ( args.hasOwnProperty( 'help' ) ) {\n\t\tbuildElement( 'small', {\n\t\t\ttext: args.help,\n\t\t\tappend: control,\n\t\t} );\n\t}\n\n\treturn control;\n}\n\nexport default buildControl;\n","/**\n * Helper to create new DOM element.\n *\n * @param {string} tag  Element tagname.\n * @param {Object} args List of element options.\n */\nfunction buildElement( tag, args ) {\n\tconst element = document.createElement( tag );\n\n\t// Set class list\n\tif ( args.hasOwnProperty( 'classes' ) ) {\n\t\targs.classes.forEach( ( cl ) => {\n\t\t\telement.classList.add( cl );\n\t\t} );\n\t}\n\n\t// Set textContent\n\tif ( args.hasOwnProperty( 'text' ) ) {\n\t\telement.textContent = args.text;\n\t}\n\n\t// Set innerHTML\n\tif ( args.hasOwnProperty( 'html' ) ) {\n\t\telement.innerHTML = args.html;\n\t}\n\n\t// Set attributes\n\tif ( args.hasOwnProperty( 'attributes' ) ) {\n\t\tfor ( const key in args.attributes ) {\n\t\t\tconst value = args.attributes[ key ];\n\n\t\t\tif ( undefined === value ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\telement.setAttribute( key, value );\n\t\t}\n\t}\n\n\t// Set data attributes\n\tif ( args.hasOwnProperty( 'dataset' ) ) {\n\t\tfor ( const key in args.dataset ) {\n\t\t\telement.setAttribute( 'data-' + key, args.dataset[ key ] );\n\t\t}\n\t}\n\n\t// Append child\n\tif ( args.hasOwnProperty( 'append' ) ) {\n\t\targs.append.appendChild( element );\n\t}\n\n\t// Prepend child\n\tif ( args.hasOwnProperty( 'prepend' ) ) {\n\t\targs.prepend.insertBefore( element, args.prepend.firstChild );\n\t}\n\n\treturn element;\n}\n\nexport default buildElement;\n","import buildElement from './element.js';\nimport buildControl from './control.js';\nimport buildLayer from './layer.js';\nimport buildMedia from './media.js';\n\nimport buildInput from './input.js';\nimport buildTextarea from './textarea.js';\nimport buildCheckbox from './checkbox.js';\nimport buildRadio from './radio.js';\nimport buildSelect from './select.js';\n\nconst Build = {\n\telement: buildElement,\n\tcontrol: buildControl,\n\tlayer: buildLayer,\n\tcheckbox: buildCheckbox,\n\tmedia: buildMedia,\n\tinput: buildInput,\n\ttextarea: buildTextarea,\n\tradio: buildRadio,\n\tselect: buildSelect,\n};\n\nexport default Build;\n","import buildElement from './element.js';\nimport Build from './index.js';\n\n/**\n * Helper to create input field.\n *\n * @param {Object}      args   List of control options.\n * @param {HTMLElement} parent Parent HTML element to append this field.\n */\nfunction buildInput( args, parent ) {\n\tconst field = buildElement( 'div', {\n\t\tclasses: args.classes || [],\n\t\tappend: parent,\n\t} );\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tconst label = buildElement( 'h4', {\n\t\t\ttext: args.label,\n\t\t} );\n\n\t\tif ( null !== args.label ) {\n\t\t\tfield.appendChild( label );\n\t\t}\n\t}\n\n\tconst input = buildElement( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'text',\n\t\t},\n\t\tdataset: args.dataset || {},\n\t\tappend: field,\n\t} );\n\n\t// Set attributes.\n\tif ( args.hasOwnProperty( 'attributes' ) ) {\n\t\tfor ( const key in args.attributes ) {\n\t\t\tconst value = args.attributes[ key ];\n\n\t\t\tif ( undefined === value ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tinput.setAttribute( key, value );\n\t\t}\n\t}\n\n\tif ( 'range' === input.type ) {\n\t\tconst counter = Build.element( 'em', {\n\t\t\ttext: input.value,\n\t\t\tattributes: {\n\t\t\t\ttitle: wp.i18n.__( 'Click to change input view', 'sharing-image' ),\n\t\t\t},\n\t\t\tappend: field,\n\t\t} );\n\n\t\tinput.addEventListener( 'change', () => {\n\t\t\tcounter.textContent = input.value;\n\t\t} );\n\n\t\tinput.addEventListener( 'input', () => {\n\t\t\tcounter.textContent = input.value;\n\t\t} );\n\n\t\tcounter.addEventListener( 'click', () => {\n\t\t\tif ( 'text' === input.type ) {\n\t\t\t\treturn input.type = 'range';\n\t\t\t}\n\n\t\t\treturn input.type = 'text';\n\t\t} );\n\t}\n\n\treturn input;\n}\n\nexport default buildInput;\n","import buildElement from './element';\n\n/**\n * Helper to create layer.\n *\n * @param {Object} args List of layer options.\n */\nfunction buildLayer( args ) {\n\tconst layer = buildElement( 'div', {\n\t\tclasses: args.classes || [],\n\t} );\n\n\tif ( args.hasOwnProperty( 'append' ) ) {\n\t\targs.append.appendChild( layer );\n\t}\n\n\tif ( args.hasOwnProperty( 'prepend' ) ) {\n\t\targs.prepend.insertBefore( layer, args.prepend.firstChild );\n\t}\n\n\tif ( ! args.hasOwnProperty( 'label' ) ) {\n\t\targs.label = '';\n\t}\n\n\tconst title = buildElement( 'h2', {\n\t\ttext: args.label,\n\t\tappend: layer,\n\t} );\n\n\tbuildElement( 'span', {\n\t\tappend: title,\n\t} );\n\n\tif ( args.hasOwnProperty( 'description' ) ) {\n\t\tbuildElement( 'h5', {\n\t\t\ttext: args.description,\n\t\t\tappend: layer,\n\t\t} );\n\t}\n\n\treturn layer;\n}\n\nexport default buildLayer;\n","import buildElement from './element';\nimport buildControl from './control';\n\nimport Helper from '../helpers';\n\n/**\n * Helper to create media block.\n *\n * @param {Object} args List of media options.\n */\nfunction buildMedia( args ) {\n\tconst media = buildControl( {\n\t\tclasses: args.classes || [],\n\t} );\n\n\tif ( args.hasOwnProperty( 'append' ) ) {\n\t\targs.append.appendChild( media );\n\t}\n\n\tif ( args.hasOwnProperty( 'prepend' ) ) {\n\t\targs.prepend.insertBefore( media, args.prepend.firstChild );\n\t}\n\n\t// Labels are required.\n\targs.labels = args.labels || {};\n\n\tconst attachment = buildElement( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: args.name,\n\t\t},\n\t\tappend: media,\n\t} );\n\n\tconst upload = buildElement( 'button', {\n\t\tclasses: [ 'button' ],\n\t\ttext: args.labels.button,\n\t\tattributes: {\n\t\t\ttype: 'button',\n\t\t},\n\t\tappend: media,\n\t} );\n\n\tconst details = buildElement( 'a', {\n\t\tclasses: [ 'hidden' ],\n\t\ttext: args.labels.details,\n\t\tattributes: {\n\t\t\ttarget: '_blank',\n\t\t},\n\t} );\n\n\tif ( args.hasOwnProperty( 'link' ) ) {\n\t\tmedia.appendChild( details );\n\t}\n\n\tif ( args.hasOwnProperty( 'help' ) ) {\n\t\tbuildElement( 'small', {\n\t\t\ttext: args.help,\n\t\t\tappend: media,\n\t\t} );\n\t}\n\n\t// Helper function to update attachment value.\n\tconst setAttachment = ( id ) => {\n\t\tattachment.setAttribute( 'value', id );\n\t\tattachment.dispatchEvent( new Event( 'change', { bubbles: true } ) );\n\n\t\tlet link = null;\n\n\t\tif ( args.hasOwnProperty( 'link' ) ) {\n\t\t\tlink = new URL( args.link );\n\t\t\tlink.searchParams.set( 'item', id );\n\n\t\t\tdetails.setAttribute( 'href', link.href );\n\t\t}\n\n\t\tif ( args.remove ) {\n\t\t\tupload.textContent = args.labels.remove;\n\t\t}\n\n\t\tdetails.classList.remove( 'hidden' );\n\t};\n\n\t// Helper function to remove attachment value.\n\tconst removeAttachment = () => {\n\t\tattachment.setAttribute( 'value', '' );\n\t\tattachment.dispatchEvent( new Event( 'change', { bubbles: true } ) );\n\n\t\t// Set default button title.\n\t\tupload.textContent = args.labels.button;\n\n\t\tdetails.classList.add( 'hidden' );\n\t};\n\n\t// Update fields if this layer has attachment.\n\tif ( args.value ) {\n\t\tsetAttachment( args.value );\n\t}\n\n\tupload.addEventListener( 'click', () => {\n\t\tif ( args.remove && attachment.value ) {\n\t\t\treturn removeAttachment();\n\t\t}\n\n\t\tconst options = {\n\t\t\ttitle: args.labels.heading,\n\t\t};\n\n\t\tif ( args.hasOwnProperty( 'mime' ) ) {\n\t\t\toptions.library = {};\n\t\t\toptions.library.type = args.mime;\n\t\t}\n\n\t\tHelper.attachment( options, ( id ) => {\n\t\t\tsetAttachment( id );\n\t\t} );\n\t} );\n\n\treturn media;\n}\n\nexport default buildMedia;\n","import buildElement from './element.js';\n\n/**\n * Helper to create radio field.\n *\n * @param {Object}      args   List of control options.\n * @param {HTMLElement} parent Parent HTML element to append this field.\n */\nfunction buildRadio( args, parent ) {\n\tconst field = buildElement( 'label', {\n\t\tclasses: args.classes || [],\n\t\tappend: parent,\n\t} );\n\n\tconst radio = buildElement( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'radio',\n\t\t},\n\t\tdataset: args.dataset || {},\n\t\tappend: field,\n\t} );\n\n\t// Set attributes\n\tif ( args.hasOwnProperty( 'attributes' ) ) {\n\t\tfor ( const key in args.attributes ) {\n\t\t\tconst value = args.attributes[ key ];\n\n\t\t\tif ( undefined === value ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tradio.setAttribute( key, value );\n\t\t}\n\t}\n\n\tif ( args.hasOwnProperty( 'checked' ) ) {\n\t\tconst checked = args.checked;\n\n\t\tif ( checked && checked === radio.value ) {\n\t\t\tradio.setAttribute( 'checked', 'checked' );\n\t\t}\n\t}\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tconst label = buildElement( 'span', {\n\t\t\ttext: args.label,\n\t\t} );\n\n\t\tif ( null !== args.label ) {\n\t\t\tfield.appendChild( label );\n\t\t}\n\t}\n\n\tif ( args.hasOwnProperty( 'help' ) ) {\n\t\tbuildElement( 'small', {\n\t\t\ttext: args.help,\n\t\t\tappend: field,\n\t\t} );\n\t}\n\n\treturn radio;\n}\n\nexport default buildRadio;\n","import buildElement from './element.js';\n\n/**\n * Helper to create select field.\n *\n * @param {Object}      args   List of control options.\n * @param {HTMLElement} parent Parent HTML element to append this field.\n */\nfunction buildSelect( args, parent ) {\n\tconst field = buildElement( 'div', {\n\t\tclasses: args.classes || [],\n\t\tappend: parent,\n\t} );\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tconst label = buildElement( 'h4', {\n\t\t\ttext: args.label,\n\t\t} );\n\n\t\tif ( null !== args.label ) {\n\t\t\tfield.appendChild( label );\n\t\t}\n\t}\n\n\tconst select = buildElement( 'select', {\n\t\tdataset: args.dataset || {},\n\t\tappend: field,\n\t} );\n\n\t// Set attributes\n\tif ( args.hasOwnProperty( 'attributes' ) ) {\n\t\tfor ( const key in args.attributes ) {\n\t\t\tconst value = args.attributes[ key ];\n\n\t\t\tif ( undefined === value ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tselect.setAttribute( key, value );\n\t\t}\n\t}\n\n\tconst options = args.options || {};\n\n\tfor ( const key in options ) {\n\t\tconst option = buildElement( 'option', {\n\t\t\ttext: options[ key ],\n\t\t\tattributes: {\n\t\t\t\tvalue: key,\n\t\t\t},\n\t\t\tappend: select,\n\t\t} );\n\n\t\tif ( args.hasOwnProperty( 'selected' ) ) {\n\t\t\tconst selected = args.selected;\n\n\t\t\tif ( selected && selected === option.value ) {\n\t\t\t\toption.setAttribute( 'selected', 'selected' );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn select;\n}\n\nexport default buildSelect;\n","import buildElement from './element.js';\n\n/**\n * Helper to create input field.\n *\n * @param {Object}      args   List of control options.\n * @param {HTMLElement} parent Parent HTML element to append this field.\n */\nfunction buildTextarea( args, parent ) {\n\tconst field = buildElement( 'div', {\n\t\tclasses: args.classes || [],\n\t\tappend: parent,\n\t} );\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tconst label = buildElement( 'h4', {\n\t\t\ttext: args.label,\n\t\t} );\n\n\t\tif ( null !== args.label ) {\n\t\t\tfield.appendChild( label );\n\t\t}\n\t}\n\n\tconst textarea = buildElement( 'textarea', {\n\t\tdataset: args.dataset || {},\n\t\tappend: field,\n\t} );\n\n\t// Set attributes\n\tif ( args.hasOwnProperty( 'attributes' ) ) {\n\t\tfor ( const key in args.attributes ) {\n\t\t\tconst value = args.attributes[ key ];\n\n\t\t\tif ( undefined === value ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ttextarea.setAttribute( key, value );\n\t\t}\n\t}\n\n\t// Set content\n\tif ( args.hasOwnProperty( 'content' ) ) {\n\t\tconst content = args.content;\n\n\t\tif ( undefined !== content ) {\n\t\t\ttextarea.innerHTML = content;\n\t\t}\n\t}\n\n\treturn textarea;\n}\n\nexport default buildTextarea;\n","/**\n * Upload media frame.\n *\n * @param {Object}   options  wp.media options.\n * @param {Function} callback Callback function.\n */\nfunction uploadMedia( options, callback ) {\n\tif ( ! options.hasOwnProperty( 'multiple' ) ) {\n\t\toptions.multiple = false;\n\t}\n\n\tconst frame = wp.media( options );\n\n\tframe.on( 'select', () => {\n\t\tconst selection = frame.state().get( 'selection' ).first().toJSON();\n\n\t\tif ( selection.id ) {\n\t\t\tcallback( selection.id );\n\t\t}\n\t} );\n\n\tframe.open();\n}\n\nexport default uploadMedia;\n","/**\n * Get element by data attribute.\n *\n * @param {HTMLElement} node  Parent node.\n * @param {string}      key   Data key param.\n * @param {string}      value Data value param.\n */\nfunction getElement( node, key, value ) {\n\tconst element = node.querySelector( `[data-${ key }=\"${ value }\"]` );\n\n\tif ( element ) {\n\t\treturn element.value;\n\t}\n}\n\nexport default getElement;\n","/**\n * Append empty default properties to object if not exist.\n *\n * @param {Object} object   Source object.\n * @param {Array}  defaults Required defaults properties.\n */\nfunction intersectDefaults( object, defaults ) {\n\tdefaults.forEach( ( item ) => {\n\t\tif ( undefined === object[ item ] ) {\n\t\t\tobject[ item ] = {};\n\t\t}\n\t} );\n\n\treturn object;\n}\n\nexport default intersectDefaults;\n","import getSearchParam from './param.js';\nimport uploadAttachment from './attachment.js';\nimport intersectDefaults from './defaults.js';\nimport getUniqueId from './uniqid.js';\nimport getElement from './dataget.js';\n\nconst Helper = {\n\tparam: getSearchParam,\n\tattachment: uploadAttachment,\n\tdefaults: intersectDefaults,\n\tuniqid: getUniqueId,\n\tdataget: getElement,\n};\n\nexport default Helper;\n","/**\n * Get current location search parameter.\n *\n * @param {string} key URL parameter key.\n */\nfunction getSearchParam( key ) {\n\tconst params = new URL( document.location.href );\n\n\treturn params.searchParams.get( key );\n}\n\nexport default getSearchParam;\n","import { customAlphabet } from 'nanoid';\n\n/**\n * Get unique param on custom alhpabeth.\n */\nfunction getUniqueId() {\n\tconst nanoid = customAlphabet( '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz', 12 );\n\n\treturn nanoid();\n}\n\nexport default getUniqueId;\n","import Build from '../../../builders';\nimport './styles.scss';\n\n// Store global scriot object for settings page.\nlet params = null;\n\n/**\n * Create template card in catalog.\n *\n * @param {HTMLElement} catalog Catalog HTML element.\n * @param {Object}      option  List of template options.\n * @param {string}      index   Template index.\n */\nfunction createCard( catalog, option, index ) {\n\tconst card = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-catalog-card' ],\n\t\tappend: catalog,\n\t} );\n\n\tconst preview = Build.element( 'figure', {\n\t\tclasses: [ 'sharing-image-catalog-preview' ],\n\t\tappend: card,\n\t} );\n\n\tif ( option.preview ) {\n\t\tBuild.element( 'img', {\n\t\t\tattributes: {\n\t\t\t\tsrc: option.preview,\n\t\t\t\talt: '',\n\t\t\t},\n\t\t\tappend: preview,\n\t\t} );\n\t}\n\n\tconst footer = Build.element( 'footer', {\n\t\tclasses: [ 'sharing-image-catalog-footer' ],\n\t\tappend: card,\n\t} );\n\n\tBuild.element( 'h2', {\n\t\ttext: option.title || wp.i18n.__( 'Untitled', 'sharing-image' ),\n\t\tappend: footer,\n\t} );\n\n\tconst link = new URL( document.location.href );\n\tlink.searchParams.set( 'template', index );\n\n\tBuild.element( 'a', {\n\t\tclasses: [ 'button' ],\n\t\ttext: wp.i18n.__( 'Edit template', 'sharing-image' ),\n\t\tattributes: {\n\t\t\thref: link.href,\n\t\t},\n\t\tappend: footer,\n\t} );\n}\n\n/**\n * Create new template button in catalog.\n *\n * @param {HTMLElement} catalog Catalog HTML element.\n * @param {string}      index   Template index.\n */\nfunction createNewButton( catalog, index ) {\n\tconst link = new URL( document.location.href );\n\tlink.searchParams.set( 'template', index );\n\n\tconst button = Build.element( 'a', {\n\t\tclasses: [ 'sharing-image-catalog-new' ],\n\t\tattributes: {\n\t\t\thref: link.href,\n\t\t},\n\t\tappend: catalog,\n\t} );\n\n\tconst title = Build.element( 'h2', {\n\t\tappend: button,\n\t} );\n\n\tBuild.element( 'strong', {\n\t\ttext: wp.i18n.__( 'Add new template', 'sharing-image' ),\n\t\tappend: title,\n\t} );\n\n\t// Restrict new template creation for not Premium users.\n\tif ( params.templates.length === 0 ) {\n\t\treturn;\n\t}\n\n\tconst license = params.license || {};\n\n\tif ( license.premium || license.develop ) {\n\t\treturn;\n\t}\n\n\tBuild.element( 'span', {\n\t\ttext: wp.i18n.__( '(Availible for Premium only)', 'sharing-image' ),\n\t\tappend: title,\n\t} );\n\n\tif ( params.links.premium ) {\n\t\tbutton.href = params.links.premium;\n\t}\n}\n\n/**\n * Create templates catalog from options.\n *\n * @param {HTMLElement} content  Settings content element.\n * @param {Object}      settings Global settings field.\n */\nfunction createCatalog( content, settings ) {\n\tparams = settings;\n\n\tconst catalog = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-catalog' ],\n\t\tappend: content,\n\t} );\n\n\tfor ( const index in settings.templates ) {\n\t\tcreateCard( catalog, settings.templates[ index ], index );\n\t}\n\n\tcreateNewButton( catalog, settings.index );\n}\n\nexport default createCatalog;\n","/**\n * Config settings tab.\n */\n\nimport Build from '../../../builders';\nimport './styles.scss';\n\n// Store global script object for settings page.\nlet params = null;\n\n/**\n * Create default poster option.\n *\n * @param {HTMLElement} options Options form element.\n * @param {Object}      data    Config data object.\n */\nfunction createDefaultOptions( options, data ) {\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-config-control' ],\n\t\tlabel: wp.i18n.__( 'Default poster', 'sharing-image' ),\n\t\tappend: options,\n\t} );\n\n\tBuild.media( {\n\t\tname: params.name + '[default]',\n\t\tclasses: [ 'sharing-image-config-control-media' ],\n\t\tlabel: wp.i18n.__( 'Default poster', 'sharing-image' ),\n\t\tvalue: data.default,\n\t\tlink: params.links.uploads,\n\t\tlabels: {\n\t\t\tbutton: wp.i18n.__( 'Upload image', 'sharing-image' ),\n\t\t\theading: wp.i18n.__( 'Select default poster', 'sharing-image' ),\n\t\t\tdetails: wp.i18n.__( 'Attachment details', 'sharing-image' ),\n\t\t\tremove: wp.i18n.__( 'Remove image', 'sharing-image' ),\n\t\t},\n\t\tremove: true,\n\t\tappend: control,\n\t} );\n\n\tconst description = [];\n\n\tdescription.push(\n\t\twp.i18n.__( 'The default poster is used on pages where there is no generated.', 'sharing-image' )\n\t);\n\n\tdescription.push( wp.i18n.__( 'Best image size: 1200630 pixels.', 'sharing-image' ) );\n\n\tBuild.element( 'small', {\n\t\ttext: description.join( ' ' ),\n\t\tappend: control,\n\t} );\n}\n\n/**\n * Create uploads directory option.\n *\n * @param {HTMLElement} options Options form element.\n * @param {Object}      data    Config data object.\n */\nfunction createUploadsOptions( options, data ) {\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-config-control' ],\n\t\tlabel: wp.i18n.__( 'Upload directory', 'sharing-image' ),\n\t\tappend: options,\n\t} );\n\n\tconst fieldset = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-config-control-fieldset' ],\n\t\tappend: control,\n\t} );\n\n\tBuild.radio(\n\t\t{\n\t\t\tclasses: [ 'sharing-image-config-control-radio' ],\n\t\t\tattributes: {\n\t\t\t\tname: params.name + '[uploads]',\n\t\t\t\tvalue: 'default',\n\t\t\t},\n\t\t\tlabel: wp.i18n.__( 'Use default uploads directory', 'sharing-image' ),\n\t\t\tchecked: data.uploads || 'default',\n\t\t},\n\t\tfieldset\n\t);\n\n\tBuild.radio(\n\t\t{\n\t\t\tclasses: [ 'sharing-image-config-control-radio' ],\n\t\t\tattributes: {\n\t\t\t\tname: params.name + '[uploads]',\n\t\t\t\tvalue: 'custom',\n\t\t\t},\n\t\t\tlabel: wp.i18n.__( 'Select custom storage for posters', 'sharing-image' ),\n\t\t\tchecked: data.uploads || 'default',\n\t\t},\n\t\tfieldset\n\t);\n\n\tconst input = Build.input(\n\t\t{\n\t\t\tclasses: [ 'sharing-image-config-control-input' ],\n\t\t\tattributes: {\n\t\t\t\tname: params.name + '[storage]',\n\t\t\t\tvalue: data.storage || params.links.storage,\n\t\t\t\tdisabled: 'disabled',\n\t\t\t},\n\t\t},\n\t\tcontrol\n\t);\n\n\tBuild.element( 'small', {\n\t\ttext: wp.i18n.__( 'Use relative path from site root. Directory should be writeable.', 'sharing-image' ),\n\t\tappend: control,\n\t} );\n\n\tcontrol.querySelectorAll( 'input' ).forEach( ( radio ) => {\n\t\tif ( 'radio' !== radio.type ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Show storage input for checked custom radio.\n\t\tif ( radio.checked && 'custom' === radio.value ) {\n\t\t\tinput.disabled = false;\n\t\t}\n\n\t\tradio.addEventListener( 'change', () => {\n\t\t\tinput.disabled = true;\n\n\t\t\tif ( 'custom' === radio.value ) {\n\t\t\t\tinput.disabled = false;\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Create format and quality poster options.\n *\n * @param {HTMLElement} options Options form element.\n * @param {Object}      data    Config data object.\n */\nfunction createImageOptions( options, data ) {\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-config-control', 'control-extra' ],\n\t\tlabel: wp.i18n.__( 'Poster image format', 'sharing-image' ),\n\t\thelp: wp.i18n.__( 'The higher the value, the less compression. Availible for JPEG only.', 'sharing-image' ),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'select',\n\t\t\t\tclasses: [ 'sharing-image-config-control-select' ],\n\t\t\t\toptions: {\n\t\t\t\t\tjpg: wp.i18n.__( 'JPEG', 'sharing-image' ),\n\t\t\t\t\tpng: wp.i18n.__( 'PNG', 'sharing-image' ),\n\t\t\t\t\tgif: wp.i18n.__( 'GIF', 'sharing-image' ),\n\t\t\t\t},\n\t\t\t\tattributes: {\n\t\t\t\t\tname: params.name + '[format]',\n\t\t\t\t},\n\t\t\t\tselected: data.format || 'jpg',\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-config-control-range' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'range',\n\t\t\t\t\tname: params.name + '[quality]',\n\t\t\t\t\tmin: 10,\n\t\t\t\t\tmax: 100,\n\t\t\t\t\tstep: 5,\n\t\t\t\t\tvalue: data.quality || '90',\n\t\t\t\t\tdisabled: 'disabled',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Image quality', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: options,\n\t} );\n\n\t// Find control format select.\n\tconst format = control.querySelector( 'select' );\n\n\t// Find control quiality input.\n\tconst quality = control.querySelector( 'input' );\n\n\tif ( 'jpg' === format.value ) {\n\t\tquality.disabled = false;\n\t}\n\n\tformat.addEventListener( 'change', () => {\n\t\tquality.disabled = true;\n\n\t\tif ( 'jpg' === format.value ) {\n\t\t\tquality.disabled = false;\n\t\t}\n\t} );\n}\n\n/**\n * Create autogenerate poster options.\n *\n * @param {HTMLElement} options   Options form element.\n * @param {Object}      data      Config data object.\n * @param {Array}       templates List of templates.\n */\nfunction createAutogenerateOptions( options, data, templates ) {\n\tconst fields = {};\n\n\t// Add the option for disabling feature.\n\tfields.manual = wp.i18n.__( 'Disable auto generation', 'sharing-image' );\n\n\tfor ( const i in templates ) {\n\t\tfields[ i ] = templates[ i ].title || wp.i18n.__( 'Untitled', 'sharing-image' );\n\t}\n\n\tlet selected = data.autogenerate;\n\n\tif ( typeof selected === 'undefined' ) {\n\t\tselected = 'manual';\n\t}\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-config-control' ],\n\t\tlabel: wp.i18n.__( 'Auto generate poster', 'sharing-image' ),\n\t\thelp: wp.i18n.__( 'This template will be applied automatically on post save.', 'sharing-image' ),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'select',\n\t\t\t\tclasses: [ 'sharing-image-config-control-select' ],\n\t\t\t\toptions: fields,\n\t\t\t\tattributes: {\n\t\t\t\t\tname: params.name + '[autogenerate]',\n\t\t\t\t},\n\t\t\t\tselected: String( selected ),\n\t\t\t},\n\t\t],\n\t\tappend: options,\n\t} );\n}\n\n/**\n * Live Reload options\n *\n * @param {HTMLElement} options Options form element.\n * @param {Object}      data    Config data object.\n */\nfunction createLiveReloadOptions( options, data ) {\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-config-control' ],\n\t\tlabel: wp.i18n.__( 'Live-reload', 'sharing-image' ),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'checkbox',\n\t\t\t\tclasses: [ 'sharing-image-config-control-checkbox' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: params.name + '[suspend]',\n\t\t\t\t\tvalue: 'suspend',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Disable live-reload on the template editor screen', 'sharing-image' ),\n\t\t\t\tchecked: data.suspend,\n\t\t\t},\n\t\t],\n\t\tappend: options,\n\t} );\n}\n\n/**\n * Attachment options.\n *\n * @param {HTMLElement} options Options form element.\n * @param {Object}      data    Config data object.\n */\nfunction createAttachmentOptions( options, data ) {\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-config-control' ],\n\t\tlabel: wp.i18n.__( 'Poster attachment', 'sharing-image' ),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'checkbox',\n\t\t\t\tclasses: [ 'sharing-image-config-control-checkbox' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: params.name + '[attachment]',\n\t\t\t\t\tvalue: 'attachment',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Save the generated poster as an attachment in the media library', 'sharing-image' ),\n\t\t\t\tchecked: data.attachment,\n\t\t\t},\n\t\t],\n\t\tappend: options,\n\t} );\n}\n\n/**\n * Create required form meta fields.\n *\n * @param {HTMLElement} options Options form element.\n */\nfunction createMetaFields( options ) {\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'action',\n\t\t\tvalue: params.name,\n\t\t},\n\t\tappend: options,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'sharing_image_nonce',\n\t\t\tvalue: params.nonce,\n\t\t},\n\t\tappend: options,\n\t} );\n\n\tBuild.element( 'button', {\n\t\ttext: wp.i18n.__( 'Save changes', 'sharing-image' ),\n\t\tclasses: [ 'button', 'button-primary' ],\n\t\tattributes: {\n\t\t\ttype: 'submit',\n\t\t},\n\t\tappend: options,\n\t} );\n}\n\n/**\n * Create templates catalog from options.\n *\n * @param {HTMLElement} content  Settings content element.\n * @param {Object}      settings Global settings field.\n */\nfunction createConfig( content, settings ) {\n\tparams = settings;\n\n\t// Set params name for config form fields.\n\tparams.name = 'sharing_image_config';\n\n\t// Find config element\n\tconst config = content.querySelector( '.sharing-image-config' );\n\n\tif ( null === config ) {\n\t\treturn;\n\t}\n\n\tconst options = Build.element( 'form', {\n\t\tclasses: [ 'sharing-image-config-options' ],\n\t\tattributes: {\n\t\t\taction: params.links.action,\n\t\t\tmethod: 'POST',\n\t\t},\n\t\tappend: config,\n\t} );\n\n\tconst data = params.config || {};\n\tconst templates = params.templates || [];\n\n\t// Poster image options.\n\tcreateImageOptions( options, data );\n\n\t// Autogenerate poster.\n\tcreateAutogenerateOptions( options, data, templates );\n\n\t// Attachment options.\n\tcreateAttachmentOptions( options, data );\n\n\t// Uploads directory options.\n\tcreateUploadsOptions( options, data );\n\n\t// Live-reload options.\n\tcreateLiveReloadOptions( options, data );\n\n\t// Default poster.\n\tcreateDefaultOptions( options, data );\n\n\t// Create required form fields.\n\tcreateMetaFields( options );\n}\n\nexport default createConfig;\n","/**\n * Editor settings.\n */\n/* global ajaxurl:true */\n\nimport Build from '../../../builders';\nimport Helper from '../../../helpers';\nimport './styles.scss';\n\n// Store global script object for settings page.\nlet params = null;\n\n// Preview element.\nlet preview = null;\n\n// Root editor element.\nlet editor = null;\n\n/**\n * Show template warning message.\n *\n * @param {string} message Warning message.\n */\nfunction showTemplateError( message ) {\n\tconst viewport = preview.parentNode;\n\n\t// Try to find warning element.\n\tconst warning = viewport.querySelector( '.sharing-image-editor-warning' );\n\n\tif ( null === warning ) {\n\t\treturn;\n\t}\n\n\twarning.classList.add( 'warning-visible' );\n\twarning.textContent = message || wp.i18n.__( 'Unknown generation error', 'sharing-image' );\n}\n\n/**\n * Remove warning message block.\n */\nfunction hideTemplateError() {\n\tconst viewport = preview.parentNode;\n\n\t// Try to find warning element.\n\tconst warning = viewport.querySelector( '.sharing-image-editor-warning' );\n\n\tif ( null === warning ) {\n\t\treturn;\n\t}\n\n\twarning.classList.remove( 'warning-visible' );\n}\n\n/**\n * Geneate template using editor data.\n */\nfunction generateTemplate() {\n\tpreview.classList.add( 'preview-loader' );\n\n\tconst request = new XMLHttpRequest();\n\trequest.open( 'POST', ajaxurl );\n\trequest.responseType = 'blob';\n\n\t// Create data bundle using form data.\n\tconst bundle = new window.FormData( editor );\n\tbundle.set( 'action', 'sharing_image_show' );\n\n\thideTemplateError();\n\n\t// Set blob for success response.\n\trequest.addEventListener( 'readystatechange', () => {\n\t\tif ( request.readyState === 2 ) {\n\t\t\trequest.responseType = 'json';\n\n\t\t\tif ( request.status === 200 ) {\n\t\t\t\trequest.responseType = 'blob';\n\t\t\t}\n\t\t}\n\t} );\n\n\trequest.addEventListener( 'load', () => {\n\t\tconst response = request.response || {};\n\n\t\t// Hide preview loader on request complete.\n\t\tpreview.classList.remove( 'preview-blank', 'preview-loader' );\n\n\t\tif ( 200 !== request.status ) {\n\t\t\treturn showTemplateError( response.data );\n\t\t}\n\n\t\tlet image = preview.querySelector( 'img' );\n\n\t\tif ( null === image ) {\n\t\t\timage = Build.element( 'img', {\n\t\t\t\tappend: preview,\n\t\t\t} );\n\t\t}\n\n\t\t// Set new blob image source.\n\t\timage.src = window.URL.createObjectURL( response );\n\t} );\n\n\trequest.addEventListener( 'error', () => {\n\t\tshowTemplateError();\n\n\t\t// Hide preview loader on request complete.\n\t\tpreview.classList.remove( 'preview-blank', 'preview-loader' );\n\t} );\n\n\trequest.send( bundle );\n}\n\n/**\n * Save template while editor submiting.\n */\nfunction saveTemplate() {\n\tconst request = new XMLHttpRequest();\n\trequest.open( 'POST', ajaxurl );\n\trequest.responseType = 'json';\n\n\tpreview.classList.add( 'preview-loader' );\n\n\t// Create data bundle using editor data.\n\tconst bundle = new window.FormData( editor );\n\tbundle.set( 'action', 'sharing_image_save' );\n\n\trequest.addEventListener( 'load', () => {\n\t\tconst response = request.response || {};\n\n\t\tif ( ! response.data ) {\n\t\t\treturn showTemplateError();\n\t\t}\n\n\t\tif ( ! response.success ) {\n\t\t\t// Hide preview loader on request complete.\n\t\t\tpreview.classList.remove( 'preview-loader' );\n\n\t\t\treturn showTemplateError( response.data );\n\t\t}\n\n\t\tconst input = preview.querySelector( 'input' );\n\n\t\tif ( null !== input ) {\n\t\t\tinput.value = response.data;\n\t\t}\n\n\t\teditor.submit();\n\t} );\n\n\trequest.addEventListener( 'error', () => {\n\t\t// Hide preview loader on request complete.\n\t\tpreview.classList.remove( 'preview-loader' );\n\n\t\tshowTemplateError();\n\t} );\n\n\trequest.send( bundle );\n}\n\n/**\n * Text layer dynamic/static fields manager.\n *\n * @param {HTMLElement} layer Current layer element.\n * @param {string}      name  Fields name attribute prefix.\n * @param {Object}      data  Layer data object.\n */\nfunction createTextDynamicFields( layer, name, data ) {\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tappend: layer,\n\t} );\n\n\tconst checkbox = Build.checkbox(\n\t\t{\n\t\t\tclasses: [ 'sharing-image-editor-control-checkbox' ],\n\t\t\tattributes: {\n\t\t\t\tname: name + '[dynamic]',\n\t\t\t\tvalue: 'dynamic',\n\t\t\t},\n\t\t\tlabel: wp.i18n.__( 'Dynamic field. Filled in the post editing screen.', 'sharing-image' ),\n\t\t\tchecked: data.dynamic,\n\t\t},\n\t\tcontrol\n\t);\n\n\tconst fields = [];\n\n\tfields[ fields.length ] = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-extend', 'control-hidden' ],\n\t\thelp: wp.i18n.__( 'Displayed only in the metabox.', 'sharing-image' ),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[title]',\n\t\t\t\t\tvalue: data.title,\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tcaption: 'title',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Field name', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tfields[ fields.length ] = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-extend', 'control-hidden' ],\n\t\thelp: wp.i18n.__(\n\t\t\t'This field is for example purposes only, to preview the editors appearance.',\n\t\t\t'sharing-image'\n\t\t),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'textarea',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-textarea' ],\n\t\t\t\tcontent: data.sample || 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[sample]',\n\t\t\t\t\trows: 2,\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Text sample', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tconst presets = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-hidden' ],\n\t\tlabel: wp.i18n.__( 'Preset text field', 'sharing-image' ),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'radio',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-radio' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[preset]',\n\t\t\t\t\tvalue: 'none',\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tpersistent: true,\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Fill in manually', 'sharing-image' ),\n\t\t\t\tchecked: data.preset || 'none',\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'radio',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-radio' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[preset]',\n\t\t\t\t\tvalue: 'title',\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tpersistent: true,\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Take from post title', 'sharing-image' ),\n\t\t\t\tchecked: data.preset || 'none',\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'radio',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-radio' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[preset]',\n\t\t\t\t\tvalue: 'excerpt',\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tpersistent: true,\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Use post excerpt text', 'sharing-image' ),\n\t\t\t\tchecked: data.preset || 'none',\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'radio',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-radio' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[preset]',\n\t\t\t\t\tvalue: 'taxonomy',\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tpersistent: true,\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Show post taxonomy terms', 'sharing-image' ),\n\t\t\t\tchecked: data.preset || 'none',\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tfields[ fields.length ] = presets;\n\n\tconst taxonomy = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-hidden', 'control-extend', 'control-pulled' ],\n\t\tlabel: wp.i18n.__( 'Preset taxonomy', 'sharing-image' ),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'select',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-select' ],\n\t\t\t\toptions: params.taxonomies,\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[taxonomy]',\n\t\t\t\t},\n\t\t\t\tselected: data.taxonomy,\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tfields[ fields.length ] = taxonomy;\n\n\tif ( 'taxonomy' !== data.preset ) {\n\t\ttaxonomy.classList.add( 'control-disabled' );\n\t}\n\n\t// Show taxonomy select on preset change.\n\tpresets.addEventListener( 'change', () => {\n\t\tconst checked = presets.querySelector( 'input:checked' ).value;\n\n\t\ttaxonomy.classList.add( 'control-disabled' );\n\n\t\tif ( 'taxonomy' === checked ) {\n\t\t\ttaxonomy.classList.remove( 'control-disabled' );\n\t\t}\n\t} );\n\n\tfields[ fields.length ] = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-extend' ],\n\t\thelp: wp.i18n.__( 'You can use non-breaking spaces to manage your string position.', 'sharing-image' ),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'textarea',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-textarea' ],\n\t\t\t\tcontent: data.content,\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[content]',\n\t\t\t\t\trows: 2,\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tcaption: 'content',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Content', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\t// Helper function to toggle controls visibility.\n\tconst toggleClasses = () => {\n\t\tfields.forEach( ( field ) => {\n\t\t\tfield.classList.toggle( 'control-hidden' );\n\t\t} );\n\t};\n\n\tif ( checkbox.checked ) {\n\t\ttoggleClasses();\n\t}\n\n\tcheckbox.addEventListener( 'change', () => {\n\t\ttoggleClasses();\n\t\tupdateLayerCaption( layer, checkbox );\n\t} );\n\n\tupdateLayerCaption( layer, checkbox );\n}\n\n/**\n * Image layer dynamic/static fields manager.\n *\n * @param {HTMLElement} layer Current layer element.\n * @param {string}      name  Fields name attribute prefix.\n * @param {Object}      data  Layer data object.\n */\nfunction createImageDynamicFields( layer, name, data ) {\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tappend: layer,\n\t} );\n\n\tconst media = Build.media( {\n\t\tname: name + '[attachment]',\n\t\tclasses: [ 'sharing-image-editor-control', 'control-media' ],\n\t\tvalue: data.attachment,\n\t\tlink: params.links.uploads,\n\t\tlabels: {\n\t\t\tbutton: wp.i18n.__( 'Select an image', 'sharing-image' ),\n\t\t\theading: wp.i18n.__( 'Select layer image', 'sharing-image' ),\n\t\t\tdetails: wp.i18n.__( 'Attachment details', 'sharing-image' ),\n\t\t\tremove: wp.i18n.__( 'Remove image', 'sharing-image' ),\n\t\t},\n\t\tappend: layer,\n\t\tremove: true,\n\t\thelp: wp.i18n.__(\n\t\t\t'This image is for example purposes only, to preview the editors appearance.',\n\t\t\t'sharing-image'\n\t\t),\n\t\tmime: [ 'image/png', 'image/jpeg', 'image/gif', 'image/webp' ],\n\t} );\n\n\tconst checkbox = Build.checkbox(\n\t\t{\n\t\t\tclasses: [ 'sharing-image-editor-control-checkbox' ],\n\t\t\tattributes: {\n\t\t\t\tname: name + '[dynamic]',\n\t\t\t\tvalue: 'dynamic',\n\t\t\t},\n\t\t\tlabel: wp.i18n.__( 'Dynamic image. Can be updated on the post editing screen.', 'sharing-image' ),\n\t\t\tchecked: data.dynamic,\n\t\t},\n\t\tcontrol\n\t);\n\n\tconst fields = [];\n\n\tconst presets = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-hidden' ],\n\t\tlabel: wp.i18n.__( 'Preset image field', 'sharing-image' ),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'radio',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-radio' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[preset]',\n\t\t\t\t\tvalue: 'none',\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tpersistent: true,\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Manual selection', 'sharing-image' ),\n\t\t\t\tchecked: data.preset || 'none',\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'radio',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-radio' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[preset]',\n\t\t\t\t\tvalue: 'featured',\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tpersistent: true,\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Use Post Featured Image', 'sharing-image' ),\n\t\t\t\tchecked: data.preset || 'featured',\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tfields[ fields.length ] = presets;\n\n\t// Helper function to toggle controls visibility and labels.\n\tconst updateDynamic = () => {\n\t\tfields.forEach( ( field ) => {\n\t\t\tfield.classList.toggle( 'control-hidden' );\n\t\t} );\n\n\t\tmedia.classList.remove( 'control-help' );\n\n\t\tif ( checkbox.checked ) {\n\t\t\tmedia.classList.add( 'control-help' );\n\t\t}\n\t};\n\n\tif ( checkbox.checked ) {\n\t\tupdateDynamic();\n\t}\n\n\tcheckbox.addEventListener( 'change', () => {\n\t\tupdateDynamic();\n\t} );\n}\n\n/**\n * Creating a button to populate layer dimension fields.\n *\n * @param {HTMLElement} layer    Current layer element.\n * @param {HTMLElement} sizes    Sizes component.\n * @param {Function}    callback Callaback after button click.\n */\nfunction createBackgroundButton( layer, sizes, callback ) {\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-pulled' ],\n\t\tappend: layer,\n\t} );\n\n\tconst button = Build.element( 'button', {\n\t\tclasses: [ 'sharing-image-editor-more' ],\n\t\ttext: wp.i18n.__( 'Utilize image as poster background', 'sharing-image' ),\n\t\tattributes: {\n\t\t\ttype: 'button',\n\t\t},\n\t\tappend: control,\n\t} );\n\n\tbutton.addEventListener( 'click', () => {\n\t\tconst fields = {};\n\n\t\tsizes.querySelectorAll( 'input' ).forEach( ( input ) => {\n\t\t\tfields[ input.dataset.dimension ] = input;\n\t\t} );\n\n\t\tfields.x.value = 0;\n\t\tfields.y.value = 0;\n\n\t\t// Set layer image size same as poster.\n\t\tfields.width.value = Helper.dataget( editor, 'editor', 'width' );\n\t\tfields.height.value = Helper.dataget( editor, 'editor', 'height' );\n\n\t\treturn callback();\n\t} );\n}\n\n/**\n * Image layer sizes fields manager.\n *\n * @param {HTMLElement} layer Current layer element.\n * @param {string}      name  Fields name attribute prefix.\n * @param {Object}      data  Layer data object.\n */\nfunction createImageSizesFields( layer, name, data ) {\n\tconst fields = [];\n\n\tconst sizes = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-sizes' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[x]',\n\t\t\t\t\tvalue: data.x,\n\t\t\t\t\tplaceholder: '0',\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdimension: 'x',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'X', 'sharing-image' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[y]',\n\t\t\t\t\tvalue: data.y,\n\t\t\t\t\tplaceholder: '0',\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdimension: 'y',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Y', 'sharing-image' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[width]',\n\t\t\t\t\tvalue: data.width,\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdimension: 'width',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Width', 'sharing-image' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[height]',\n\t\t\t\t\tvalue: data.height,\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdimension: 'height',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Height', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tcreateBackgroundButton( layer, sizes, () => {\n\t\t// Show dimensions options.\n\t\ttoggleDimensions();\n\n\t\t// Regenerate right after size changed.\n\t\tgenerateTemplate();\n\t} );\n\n\tfields[ fields.length ] = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tlabel: wp.i18n.__( 'Image resizing principle', 'sharing-image' ),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'radio',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-radio' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[resize]',\n\t\t\t\t\tvalue: 'center',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Center image while preserving aspect ratio.', 'sharing-image' ),\n\t\t\t\tchecked: data.resize || 'center',\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'radio',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-radio' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[resize]',\n\t\t\t\t\tvalue: 'top',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Top aligned image while preserving aspect ratio', 'sharing-image' ),\n\t\t\t\tchecked: data.resize || 'center',\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'radio',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-radio' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[resize]',\n\t\t\t\t\tvalue: 'bottom',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Bottom aligned image while preserving aspect ratio', 'sharing-image' ),\n\t\t\t\tchecked: data.resize || 'center',\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'radio',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-radio' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[resize]',\n\t\t\t\t\tvalue: 'ignore',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Resize ignore the aspect ratio', 'sharing-image' ),\n\t\t\t\tchecked: data.resize || 'center',\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'radio',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-radio' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[resize]',\n\t\t\t\t\tvalue: 'crop',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Center-crop the image', 'sharing-image' ),\n\t\t\t\tchecked: data.resize || 'center',\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tconst dimensions = [];\n\n\tsizes.querySelectorAll( 'input' ).forEach( ( input ) => {\n\t\tif ( [ 'width', 'height' ].includes( input.dataset.dimension ) ) {\n\t\t\tdimensions.push( input );\n\t\t}\n\t} );\n\n\t// Helper function to trigger events on dimension changes.\n\tconst toggleDimensions = () => {\n\t\tlet empty = false;\n\n\t\tdimensions.forEach( ( input ) => {\n\t\t\tif ( input.value.length < 1 ) {\n\t\t\t\tempty = true;\n\t\t\t}\n\t\t} );\n\n\t\tfields.forEach( ( field ) => {\n\t\t\tfield.classList.toggle( 'control-disabled', empty );\n\t\t} );\n\t};\n\n\ttoggleDimensions();\n\n\tdimensions.forEach( ( dimension ) => {\n\t\tdimension.addEventListener( 'input', toggleDimensions );\n\t} );\n}\n\n/**\n * Update layer caption according to text fields value.\n *\n * @param {HTMLElement} layer    Current layer element.\n * @param {HTMLElement} checkbox Dynamic text checbox element.\n */\nfunction updateLayerCaption( layer, checkbox ) {\n\tconst caption = layer.querySelector( 'h2 > span' );\n\n\tif ( null === caption ) {\n\t\treturn;\n\t}\n\n\tconst fields = {};\n\tconst prefix = ': ';\n\n\tlayer.querySelectorAll( '[data-caption]' ).forEach( ( field ) => {\n\t\tfields[ field.dataset.caption ] = field;\n\n\t\tfield.addEventListener( 'keyup', () => {\n\t\t\tcaption.textContent = field.value ? prefix + field.value : '';\n\t\t} );\n\t} );\n\n\tcaption.textContent = prefix + fields.content.value;\n\n\tif ( checkbox.checked ) {\n\t\tcaption.textContent = prefix + fields.title.value;\n\t}\n\n\tif ( caption.textContent === prefix ) {\n\t\tcaption.textContent = '';\n\t}\n}\n\n/**\n * Text layer more options fields manager.\n *\n * @param {HTMLElement} layer Current layer element.\n * @param {string}      name  Fields name attribute prefix.\n * @param {Object}      data  Layer data object.\n */\nfunction createTextMoreFields( layer, name, data ) {\n\tconst fields = [];\n\n\tfields[ fields.length ] = createFontField( layer, name, data );\n\n\tfields[ fields.length ] = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-hidden' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-color' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'color',\n\t\t\t\t\tname: name + '[color]',\n\t\t\t\t\tvalue: data.color || '#ffffff',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Text color', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tfields[ fields.length ] = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-series', 'control-hidden' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'select',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-select' ],\n\t\t\t\toptions: {\n\t\t\t\t\tleft: wp.i18n.__( 'Left', 'sharing-image' ),\n\t\t\t\t\tcenter: wp.i18n.__( 'Center', 'sharing-image' ),\n\t\t\t\t\tright: wp.i18n.__( 'Right', 'sharing-image' ),\n\t\t\t\t},\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[horizontal]',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Horizontal alignment', 'sharing-image' ),\n\t\t\t\tselected: data.horizontal,\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'select',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-select' ],\n\t\t\t\toptions: {\n\t\t\t\t\ttop: wp.i18n.__( 'Top', 'sharing-image' ),\n\t\t\t\t\tcenter: wp.i18n.__( 'Center', 'sharing-image' ),\n\t\t\t\t\tbottom: wp.i18n.__( 'Bottom', 'sharing-image' ),\n\t\t\t\t},\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[vertical]',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Vertical alignment', 'sharing-image' ),\n\t\t\t\tselected: data.vertical,\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tappend: layer,\n\t} );\n\n\tconst button = Build.element( 'button', {\n\t\tclasses: [ 'sharing-image-editor-more' ],\n\t\ttext: wp.i18n.__( 'More options', 'sharing-image' ),\n\t\tattributes: {\n\t\t\ttype: 'button',\n\t\t},\n\t\tappend: control,\n\t} );\n\n\tbutton.addEventListener( 'click', () => {\n\t\tfields.forEach( ( field ) => {\n\t\t\tfield.classList.remove( 'control-hidden' );\n\t\t} );\n\n\t\t// Remove button on expand.\n\t\tlayer.removeChild( control );\n\t} );\n\n\t// Open more fields for existing layers.\n\tif ( Object.keys( data ).length > 0 ) {\n\t\tbutton.click();\n\t}\n}\n\n/**\n * Create font field in text layer.\n *\n * @param {HTMLElement} layer Current layer element.\n * @param {string}      name  Fields name attribute prefix.\n * @param {Object}      data  Layer data object.\n */\nfunction createFontField( layer, name, data ) {\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-upload', 'control-hidden' ],\n\t\tappend: layer,\n\t} );\n\n\tconst select = Build.select(\n\t\t{\n\t\t\tclasses: [ 'sharing-image-editor-control-select' ],\n\t\t\toptions: params.fonts,\n\t\t\tattributes: {\n\t\t\t\tname: name + '[fontname]',\n\t\t\t},\n\t\t\tlabel: wp.i18n.__( 'Font family', 'sharing-image' ),\n\t\t\tselected: data.fontname,\n\t\t},\n\t\tcontrol\n\t);\n\n\tconst media = Build.media( {\n\t\tname: name + '[fontfile]',\n\t\tclasses: [ 'sharing-image-editor-control-media' ],\n\t\tvalue: data.fontfile,\n\t\tlink: params.links.uploads,\n\t\tlabels: {\n\t\t\tbutton: wp.i18n.__( 'Upload custom font', 'sharing-image' ),\n\t\t\theading: wp.i18n.__( 'Upload custom font', 'sharing-image' ),\n\t\t\tdetails: wp.i18n.__( 'Font attachment', 'sharing-image' ),\n\t\t\tremove: wp.i18n.__( 'Remove font', 'sharing-image' ),\n\t\t},\n\t\tremove: true,\n\t\tmime: [ 'font/ttf', 'font/otf' ],\n\t\tappend: control,\n\t} );\n\n\tBuild.element( 'small', {\n\t\ttext: wp.i18n.__( 'Custom font can only be in .ttf or .otf format.', 'sharing-image' ),\n\t\tappend: control,\n\t} );\n\n\tif ( data.fontfile ) {\n\t\tselect.disabled = true;\n\t}\n\n\t// Find media attachment input.\n\tconst input = media.querySelector( 'input' );\n\n\tinput.addEventListener( 'change', () => {\n\t\tselect.disabled = false;\n\n\t\tif ( input.value ) {\n\t\t\tselect.disabled = true;\n\t\t}\n\t} );\n\n\treturn control;\n}\n\n/**\n * Rectangle layer outline option.\n *\n * @param {HTMLElement} layer Current layer element.\n * @param {string}      name  Fields name attribute prefix.\n * @param {Object}      data  Layer data object.\n */\nfunction createRectangleOutline( layer, name, data ) {\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tappend: layer,\n\t} );\n\n\tconst checkbox = Build.checkbox(\n\t\t{\n\t\t\tclasses: [ 'sharing-image-editor-control-checkbox' ],\n\t\t\tattributes: {\n\t\t\t\tname: name + '[outline]',\n\t\t\t\tvalue: 'outline',\n\t\t\t},\n\t\t\tlabel: wp.i18n.__( 'Outline rectangle.', 'sharing-image' ),\n\t\t\tchecked: data.outline,\n\t\t},\n\t\tcontrol\n\t);\n\n\tconst range = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-hidden' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-range' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'range',\n\t\t\t\t\tname: name + '[thickness]',\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 50,\n\t\t\t\t\tstep: 1,\n\t\t\t\t\tvalue: data.thickness || '0',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Border width', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tif ( data.outline ) {\n\t\trange.classList.remove( 'control-hidden' );\n\t}\n\n\tcheckbox.addEventListener( 'change', () => {\n\t\trange.classList.add( 'control-hidden' );\n\n\t\tif ( checkbox.checked ) {\n\t\t\trange.classList.remove( 'control-hidden' );\n\t\t}\n\t} );\n}\n\n/**\n * Create catalog button in footer.\n *\n * @param {HTMLElement} footer Footer HTML element.\n */\nfunction createCatalogButton( footer ) {\n\tconst link = new URL( document.location.href );\n\tlink.searchParams.delete( 'template' );\n\n\tBuild.element( 'a', {\n\t\tclasses: [ 'button' ],\n\t\ttext: wp.i18n.__( ' Back to Catalog', 'sharing-image' ),\n\t\tattributes: {\n\t\t\thref: link.href,\n\t\t},\n\t\tappend: footer,\n\t} );\n}\n\n/**\n * Create template deletion button in footer.\n *\n * @param {HTMLElement} footer Footer HTML element.\n */\nfunction createDeleteButton( footer ) {\n\tconst href = new URL( document.location.href );\n\n\t// Get template index from current link.\n\tconst index = href.searchParams.get( 'template' );\n\n\t// Set template index to delete link.\n\tconst link = new URL( params.links.action );\n\n\tlink.searchParams.set( 'action', 'sharing_image_delete' );\n\tlink.searchParams.set( 'template', index );\n\tlink.searchParams.set( 'nonce', params.nonce );\n\n\tconst button = Build.element( 'a', {\n\t\tclasses: [ 'sharing-image-editor-delete' ],\n\t\ttext: wp.i18n.__( 'Delete template', 'sharing-image' ),\n\t\tattributes: {\n\t\t\thref: link.href,\n\t\t},\n\t\tappend: footer,\n\t} );\n\n\tbutton.addEventListener( 'click', ( e ) => {\n\t\tconst message = wp.i18n.__( 'Are you sure you want to delete this template?', 'sharing-image' );\n\n\t\tif ( ! confirm( message ) ) { // eslint-disable-line\n\t\t\te.preventDefault();\n\t\t}\n\t} );\n}\n\n/**\n * Create preview element.\n *\n * @param {HTMLElement} viewport Monitor viewport element.\n * @param {Object}      data     Template data object.\n */\nfunction createPreview( viewport, data ) {\n\tpreview = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-editor-preview', 'preview-blank' ],\n\t\tappend: viewport,\n\t} );\n\n\tif ( data.preview ) {\n\t\tBuild.element( 'img', {\n\t\t\tattributes: {\n\t\t\t\tsrc: data.preview,\n\t\t\t\talt: '',\n\t\t\t},\n\t\t\tappend: preview,\n\t\t} );\n\n\t\tpreview.classList.remove( 'preview-blank' );\n\t}\n\n\tBuild.element( 'span', {\n\t\tclasses: [ 'sharing-image-editor-loader' ],\n\t\tappend: preview,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: params.name + '[preview]',\n\t\t\tvalue: data.preview,\n\t\t},\n\t\tappend: preview,\n\t} );\n\n\treturn preview;\n}\n\n/**\n * Create button to collapse layer.\n *\n * @param {HTMLElement} layer\n */\nfunction createCollapseButton( layer ) {\n\tconst label = layer.querySelector( 'h2' );\n\n\tconst button = Build.element( 'button', {\n\t\tclasses: [ 'sharing-image-editor-collapse' ],\n\t\tattributes: {\n\t\t\ttype: 'button',\n\t\t\ttitle: wp.i18n.__( 'Collapse layer', 'sharing-image' ),\n\t\t},\n\t\tprepend: label,\n\t} );\n\n\tbutton.addEventListener( 'click', ( e ) => {\n\t\te.preventDefault();\n\n\t\t// Set default button title.\n\t\tbutton.setAttribute( 'title', wp.i18n.__( 'Collapse layer', 'sharing-image' ) );\n\n\t\tlayer.classList.toggle( 'layer-collapsed' );\n\n\t\t// Check if new class is collapsed.\n\t\tconst collapsed = layer.classList.contains( 'layer-collapsed' );\n\n\t\tif ( collapsed ) {\n\t\t\tbutton.setAttribute( 'title', wp.i18n.__( 'Expand layer', 'sharing-image' ) );\n\t\t}\n\t} );\n}\n\n/**\n * Create button inside layer box to change order.\n *\n * @param {HTMLElement} designer Layers designer HTML element.\n * @param {HTMLElement} layer    Current layer HTML emelemt.\n */\nfunction createOrderLayersButton( designer, layer ) {\n\tconst button = Build.element( 'button', {\n\t\tclasses: [ 'sharing-image-editor-order' ],\n\t\tattributes: {\n\t\t\ttype: 'button',\n\t\t\ttitle: wp.i18n.__( 'Raise higher', 'sharing-image' ),\n\t\t},\n\t\tappend: layer,\n\t} );\n\n\tbutton.addEventListener( 'click', () => {\n\t\tif ( layer.previousSibling ) {\n\t\t\tdesigner.insertBefore( layer, layer.previousSibling );\n\t\t}\n\n\t\tif ( editor.classList.contains( 'editor-suspend' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tgenerateTemplate();\n\t} );\n}\n\n/**\n * Create button to delete layer.\n *\n * @param {HTMLElement} designer Layers designer HTML element.\n * @param {HTMLElement} layer    Current layer HTML emelemt.\n */\nfunction createDeleteLayerButton( designer, layer ) {\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-footer' ],\n\t\tappend: layer,\n\t} );\n\n\tconst button = Build.element( 'button', {\n\t\tclasses: [ 'sharing-image-editor-delete' ],\n\t\ttext: wp.i18n.__( 'Delete layer', 'sharing-image' ),\n\t\tattributes: {\n\t\t\ttype: 'button',\n\t\t},\n\t\tappend: control,\n\t} );\n\n\tbutton.addEventListener( 'click', () => {\n\t\tdesigner.removeChild( layer );\n\n\t\tif ( editor.classList.contains( 'editor-suspend' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tgenerateTemplate();\n\t} );\n}\n\n/**\n * Create image layer.\n *\n * @param {Object} data   Current template layer data.\n * @param {string} uniqid Unique layer name id.\n */\nfunction createLayerImage( data, uniqid ) {\n\tconst description = [];\n\n\tdescription.push( wp.i18n.__( 'Use jpg, gif or png image formats.', 'sharing-image' ) );\n\n\tdescription.push(\n\t\twp.i18n.__( 'Leave width and height fields blank to use the original image size.', 'sharing-image' )\n\t);\n\n\tdescription.push( wp.i18n.__( 'Sizes are calculated proportionally if not filled.', 'sharing-image' ) );\n\n\tconst layer = Build.layer( {\n\t\tclasses: [ 'sharing-image-editor-layer', 'layer-image' ],\n\t\tlabel: wp.i18n.__( 'Image', 'sharing-image' ),\n\t\tdescription: description.join( ' ' ),\n\t} );\n\n\t// Form fields name for this layer.\n\tconst name = params.name + `[layers][${ uniqid }]`;\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: name + '[type]',\n\t\t\tvalue: 'image',\n\t\t},\n\t\tappend: layer,\n\t} );\n\n\t// Create static/dynamic image fields.\n\tcreateImageDynamicFields( layer, name, data );\n\n\t// Create static/dynamic image fields.\n\tcreateImageSizesFields( layer, name, data );\n\n\treturn layer;\n}\n\n/**\n * Create text layer.\n *\n * @param {Object} data   Current template data.\n * @param {string} uniqid Unique layer name id.\n */\nfunction createLayerText( data, uniqid ) {\n\tconst description = [];\n\n\tdescription.push( wp.i18n.__( 'Write a text to the current image.', 'sharing-image' ) );\n\n\tdescription.push(\n\t\twp.i18n.__( 'If the font does not fit within your limits, its size will decrease.', 'sharing-image' )\n\t);\n\tdescription.push(\n\t\twp.i18n.__( 'Avoid using large font sizes for long text  this affects performance.', 'sharing-image' )\n\t);\n\n\tconst layer = Build.layer( {\n\t\tclasses: [ 'sharing-image-editor-layer', 'layer-text' ],\n\t\tlabel: wp.i18n.__( 'Text', 'sharing-image' ),\n\t\tdescription: description.join( ' ' ),\n\t} );\n\n\t// Form fields name for this layer.\n\tconst name = params.name + `[layers][${ uniqid }]`;\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: name + '[type]',\n\t\t\tvalue: 'text',\n\t\t},\n\t\tappend: layer,\n\t} );\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-sizes' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tname: name + '[x]',\n\t\t\t\t\tvalue: data.x,\n\t\t\t\t\tplaceholder: '10',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'X', 'sharing-image' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tname: name + '[y]',\n\t\t\t\t\tvalue: data.y,\n\t\t\t\t\tplaceholder: '10',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Y', 'sharing-image' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tname: name + '[width]',\n\t\t\t\t\tvalue: data.width,\n\t\t\t\t\tplaceholder: '1000',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Width', 'sharing-image' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tname: name + '[height]',\n\t\t\t\t\tvalue: data.height,\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Height', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\t// Create static/dynamic text fields.\n\tcreateTextDynamicFields( layer, name, data );\n\n\t// Create more options.\n\tcreateTextMoreFields( layer, name, data );\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-series' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-range' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'range',\n\t\t\t\t\tname: name + '[fontsize]',\n\t\t\t\t\tmin: 10,\n\t\t\t\t\tmax: 200,\n\t\t\t\t\tstep: 1,\n\t\t\t\t\tvalue: data.fontsize || '48',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Font size', 'sharing-image' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-range' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'range',\n\t\t\t\t\tname: name + '[lineheight]',\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 4,\n\t\t\t\t\tstep: 0.125,\n\t\t\t\t\tvalue: data.lineheight || '1.5',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Line height', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\treturn layer;\n}\n\n/**\n * Create filter layer.\n *\n * @param {Object} data   Current template data.\n * @param {string} uniqid Unique layer name id.\n */\nfunction createLayerFilter( data, uniqid ) {\n\tconst description = [];\n\n\tdescription.push(\n\t\twp.i18n.__( 'Filters are applied one after another to the entire editor image.', 'sharing-image' )\n\t);\n\n\tdescription.push( wp.i18n.__( 'If you want to control their order, create multiple layers.', 'sharing-image' ) );\n\n\tconst layer = Build.layer( {\n\t\tclasses: [ 'sharing-image-editor-layer', 'layer-text' ],\n\t\tlabel: wp.i18n.__( 'Filter', 'sharing-image' ),\n\t\tdescription: description.join( ' ' ),\n\t} );\n\n\t// Form fields name for this layer.\n\tconst name = params.name + `[layers][${ uniqid }]`;\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: name + '[type]',\n\t\t\tvalue: 'filter',\n\t\t},\n\t\tappend: layer,\n\t} );\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'checkbox',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-checkbox' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[grayscale]',\n\t\t\t\t\tvalue: 'grayscale',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Turns image into a grayscale version', 'sharing-image' ),\n\t\t\t\tchecked: data.grayscale,\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'checkbox',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-checkbox' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: name + '[blur]',\n\t\t\t\t\tvalue: 'blur',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Blur image by Gaussian effect', 'sharing-image' ),\n\t\t\t\tchecked: data.blur,\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-range' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'range',\n\t\t\t\t\tname: name + '[contrast]',\n\t\t\t\t\tmin: -50,\n\t\t\t\t\tmax: 50,\n\t\t\t\t\tstep: 5,\n\t\t\t\t\tvalue: data.contrast || '0',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Contrast', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-range' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'range',\n\t\t\t\t\tname: name + '[brightness]',\n\t\t\t\t\tmin: -50,\n\t\t\t\t\tmax: 50,\n\t\t\t\t\tstep: 5,\n\t\t\t\t\tvalue: data.brightness || '0',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Brightness', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-range' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'range',\n\t\t\t\t\tname: name + '[blackout]',\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 100,\n\t\t\t\t\tstep: 5,\n\t\t\t\t\tvalue: data.blackout || '0',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Blackout', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\treturn layer;\n}\n\n/**\n * Create rectangle layer.\n *\n * @param {Object} data   Current template data.\n * @param {string} uniqid Unique layer name id.\n */\nfunction createLayerRectangle( data, uniqid ) {\n\tconst description = [];\n\n\tdescription.push( wp.i18n.__( 'Draw a colored rectangle on current image.', 'sharing-image' ) );\n\n\tdescription.push(\n\t\twp.i18n.__( 'You can get filled or outlined figure with custom color and opacity.', 'sharing-image' )\n\t);\n\n\tdescription.push( wp.i18n.__( 'Use small height to draw the line.', 'sharing-image' ) );\n\n\tconst layer = Build.layer( {\n\t\tclasses: [ 'sharing-image-editor-layer', 'layer-text' ],\n\t\tlabel: wp.i18n.__( 'Rectangle', 'sharing-image' ),\n\t\tdescription: description.join( ' ' ),\n\t} );\n\n\t// Form fields name for this layer.\n\tconst name = params.name + `[layers][${ uniqid }]`;\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: name + '[type]',\n\t\t\tvalue: 'rectangle',\n\t\t},\n\t\tappend: layer,\n\t} );\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-color' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'color',\n\t\t\t\t\tname: name + '[color]',\n\t\t\t\t\tvalue: data.color || '#ffffff',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Rectangle color', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-sizes' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tname: name + '[x]' || '10',\n\t\t\t\t\tvalue: data.x,\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'X', 'sharing-image' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tname: name + '[y]' || '10',\n\t\t\t\t\tvalue: data.y,\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Y', 'sharing-image' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tname: name + '[width]',\n\t\t\t\t\tvalue: data.width,\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Width', 'sharing-image' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tname: name + '[height]',\n\t\t\t\t\tvalue: data.height,\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Height', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\tcreateRectangleOutline( layer, name, data );\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-range' ],\n\t\t\t\tattributes: {\n\t\t\t\t\ttype: 'range',\n\t\t\t\t\tname: name + '[opacity]',\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 100,\n\t\t\t\t\tstep: 5,\n\t\t\t\t\tvalue: data.opacity || '0',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Opacity', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: layer,\n\t} );\n\n\treturn layer;\n}\n\n/**\n * Create new layer.\n *\n * @param {HTMLElement} designer Designer HTML element.\n * @param {string}      type     New layer type.\n * @param {Object}      data     New layer data.\n */\nfunction createLayer( designer, type, data = {} ) {\n\tlet layer = null;\n\n\t// Get layer id from data.\n\tconst uniqid = data.uniqid || Helper.uniqid();\n\n\tswitch ( type ) {\n\t\tcase 'text':\n\t\t\tlayer = createLayerText( data, uniqid );\n\t\t\tbreak;\n\n\t\tcase 'image':\n\t\t\tlayer = createLayerImage( data, uniqid );\n\t\t\tbreak;\n\n\t\tcase 'filter':\n\t\t\tlayer = createLayerFilter( data, uniqid );\n\t\t\tbreak;\n\n\t\tcase 'rectangle':\n\t\t\tlayer = createLayerRectangle( data, uniqid );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn null;\n\t}\n\n\tdesigner.appendChild( layer );\n\n\t// Button to delete layer.\n\tcreateDeleteLayerButton( designer, layer );\n\n\t// Button to collapse layer.\n\tcreateCollapseButton( layer );\n\n\t// Button to order layers\n\tcreateOrderLayersButton( designer, layer );\n\n\treturn layer;\n}\n\n/**\n * Create layers designer control.\n *\n * @param {HTMLElement} fieldset Fieldset HTML element.\n * @param {Object}      data     Current template data.\n */\nfunction createDesigner( fieldset, data ) {\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-select', 'control-compact' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'select',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-select' ],\n\t\t\t\toptions: {\n\t\t\t\t\ttext: wp.i18n.__( 'Text', 'sharing-image' ),\n\t\t\t\t\timage: wp.i18n.__( 'Image', 'sharing-image' ),\n\t\t\t\t\tfilter: wp.i18n.__( 'Filter', 'sharing-image' ),\n\t\t\t\t\trectangle: wp.i18n.__( 'Rectangle', 'sharing-image' ),\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tappend: fieldset,\n\t} );\n\n\tconst button = Build.element( 'button', {\n\t\tclasses: [ 'button' ],\n\t\ttext: wp.i18n.__( 'Add new', 'sharing-image' ),\n\t\tattributes: {\n\t\t\ttype: 'button',\n\t\t},\n\t\tappend: control,\n\t} );\n\n\tbutton.addEventListener( 'click', () => {\n\t\tconst select = control.querySelector( 'select' );\n\n\t\tif ( null === select ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst layer = createLayer( designer, select.value );\n\n\t\tlayer.scrollIntoView( {\n\t\t\tbehavior: 'smooth',\n\t\t} );\n\t} );\n\n\tconst designer = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-editor-designer' ],\n\t\tappend: fieldset,\n\t} );\n\n\tdata.layers = data.layers || {};\n\n\tfor ( const uniqid in data.layers ) {\n\t\tconst item = data.layers[ uniqid ];\n\n\t\titem.uniqid = uniqid;\n\n\t\tif ( item.hasOwnProperty( 'type' ) ) {\n\t\t\tconst created = createLayer( designer, item.type, item );\n\n\t\t\tif ( ! created ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcreated.classList.add( 'layer-collapsed' );\n\t\t}\n\t}\n}\n\n/**\n * Create common settings on template editor screen.\n *\n * @param {Object} data Current template data.\n */\nfunction createFieldset( data ) {\n\tconst fieldset = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-editor-fieldset' ],\n\t\tappend: editor,\n\t} );\n\n\t// Create template title control.\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-compact', 'control-extend' ],\n\t\thelp: wp.i18n.__( 'Used only in the admin panel', 'sharing-image' ),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: params.name + '[title]',\n\t\t\t\t\tvalue: data.title,\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tpersistent: true,\n\t\t\t\t\teditor: 'title',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Template title', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: fieldset,\n\t} );\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control' ],\n\t\tlabel: wp.i18n.__( 'Fill color', 'sharing-image' ),\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-color' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: params.name + '[fill]',\n\t\t\t\t\ttype: 'color',\n\t\t\t\t\tvalue: data.fill,\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\teditor: 'fill',\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tappend: fieldset,\n\t} );\n\n\t// Create width/height settings control.\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-compact', 'control-sizes' ],\n\t\tfields: [\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: params.name + '[width]',\n\t\t\t\t\tvalue: data.width || '1200',\n\t\t\t\t\tplaceholder: '1200',\n\t\t\t\t\tmaxlength: 4,\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\teditor: 'width',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Editor width', 'sharing-image' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tgroup: 'input',\n\t\t\t\tclasses: [ 'sharing-image-editor-control-input' ],\n\t\t\t\tattributes: {\n\t\t\t\t\tname: params.name + '[height]',\n\t\t\t\t\tvalue: data.height || '630',\n\t\t\t\t\tplaceholder: '630',\n\t\t\t\t\tmaxlength: 4,\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\teditor: 'height',\n\t\t\t\t},\n\t\t\t\tlabel: wp.i18n.__( 'Editor height', 'sharing-image' ),\n\t\t\t},\n\t\t],\n\t\tappend: fieldset,\n\t} );\n\n\tconst description = [];\n\n\tdescription.push( wp.i18n.__( 'You can add multiple layers on your editor.', 'sharing-image' ) );\n\tdescription.push( wp.i18n.__( 'Note that the stacking order of the layers isimportant.', 'sharing-image' ) );\n\n\tdescription.push(\n\t\twp.i18n.__( 'You can change the order using the arrows in the corner of each box.', 'sharing-image' )\n\t);\n\n\tBuild.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-reduced' ],\n\t\tlabel: wp.i18n.__( 'Add layers', 'sharing-image' ),\n\t\tdescription: description.join( ' ' ),\n\t\tappend: fieldset,\n\t} );\n\n\t// Create layers designer block.\n\tcreateDesigner( fieldset, data );\n\n\tconst footer = Build.control( {\n\t\tclasses: [ 'sharing-image-editor-control', 'control-footer' ],\n\t\tappend: fieldset,\n\t} );\n\n\t// Create back to catalog button.\n\tcreateCatalogButton( footer );\n\n\t// Create template deletion button.\n\tcreateDeleteButton( footer );\n\n\tfieldset.addEventListener( 'change', ( e ) => {\n\t\tif ( editor.classList.contains( 'editor-suspend' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst target = e.target;\n\n\t\t// Skip fields that don't affect the poster.\n\t\tif ( target.hasAttribute( 'data-persistent' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! target.hasAttribute( 'name' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tgenerateTemplate();\n\t} );\n}\n\n/**\n * Create button to submit editor form.\n *\n * @param {HTMLElement} manager Manager element.\n */\nfunction createSubmitButton( manager ) {\n\tBuild.element( 'button', {\n\t\ttext: wp.i18n.__( 'Save changes', 'sharing-image' ),\n\t\tclasses: [ 'button', 'button-primary' ],\n\t\tattributes: {\n\t\t\ttype: 'submit',\n\t\t},\n\t\tappend: manager,\n\t} );\n}\n\n/**\n * Create button to generate new template manually.\n *\n * @param {HTMLElement} manager Manager element.\n */\nfunction createGenerateButton( manager ) {\n\tconst button = Build.element( 'button', {\n\t\ttext: wp.i18n.__( 'Generate preview', 'sharing-image' ),\n\t\tclasses: [ 'button' ],\n\t\tattributes: {\n\t\t\ttype: 'button',\n\t\t},\n\t\tappend: manager,\n\t} );\n\n\tbutton.addEventListener( 'click', () => {\n\t\tgenerateTemplate();\n\t} );\n}\n\n/**\n * Create debug text checkbox.\n *\n * @param {HTMLElement} manager Manager element.\n * @param {Object}      data    Template data.\n */\nfunction createDebugCheckbox( manager, data ) {\n\tconst checkbox = Build.checkbox(\n\t\t{\n\t\t\tclasses: [ 'sharing-image-editor-debug' ],\n\t\t\tattributes: {\n\t\t\t\tname: params.name + '[debug]',\n\t\t\t\tvalue: 'debug',\n\t\t\t},\n\t\t\tlabel: wp.i18n.__( 'Show debug frames', 'sharing-image' ),\n\t\t\tchecked: data.debug,\n\t\t},\n\t\tmanager\n\t);\n\n\tcheckbox.addEventListener( 'change', () => {\n\t\tgenerateTemplate();\n\t} );\n}\n\n/**\n * Create template settings preview.\n *\n * @param {Object} data Current template data.\n */\nfunction createMonitor( data ) {\n\tconst monitor = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-editor-monitor' ],\n\t\tappend: editor,\n\t} );\n\n\tconst viewport = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-editor-viewport' ],\n\t\tappend: monitor,\n\t} );\n\n\tcreatePreview( viewport, data );\n\n\tBuild.element( 'div', {\n\t\tclasses: [ 'sharing-image-editor-warning' ],\n\t\tappend: viewport,\n\t} );\n\n\tconst manager = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-editor-manager' ],\n\t\tappend: viewport,\n\t} );\n\n\t// Create debug only checkbox.\n\tcreateDebugCheckbox( manager, data );\n\n\t// Create submit form button.\n\tcreateSubmitButton( manager );\n\n\t// Create template generator button.\n\tcreateGenerateButton( manager );\n}\n\n/**\n * Create form hidden settings fields.\n *\n * @param {HTMLElement} content Settings content element.\n * @param {string}      index   Current option index.\n */\nfunction prepareEditor( content, index ) {\n\tparams.name = 'sharing_image_editor';\n\n\tconst form = Build.element( 'form', {\n\t\tclasses: [ 'sharing-image-editor' ],\n\t\tattributes: {\n\t\t\taction: params.links.action,\n\t\t\tmethod: 'POST',\n\t\t},\n\t\tappend: content,\n\t} );\n\n\tif ( params.config.suspend ) {\n\t\tform.classList.add( 'editor-suspend' );\n\t}\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'action',\n\t\t\tvalue: params.name,\n\t\t},\n\t\tappend: form,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'sharing_image_index',\n\t\t\tvalue: index,\n\t\t},\n\t\tappend: form,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'sharing_image_nonce',\n\t\t\tvalue: params.nonce,\n\t\t},\n\t\tappend: form,\n\t} );\n\n\tform.addEventListener( 'submit', ( e ) => {\n\t\te.preventDefault();\n\n\t\tsaveTemplate();\n\t} );\n\n\treturn form;\n}\n\n/**\n * Create template editor page.\n *\n * @param {HTMLElement} content  Settings content element.\n * @param {Object}      settings Global settings object.\n * @param {number}      index    Current option index.\n * @param {Object}      data     Template data.\n */\nfunction createEditor( content, settings, index, data = {} ) {\n\tparams = settings;\n\n\t// Prepare form with hidden fields and events.\n\teditor = prepareEditor( content, index );\n\n\t// Create monitor section part.\n\tcreateMonitor( data );\n\n\t// Create fieldset section part.\n\tcreateFieldset( data );\n}\n\nexport default createEditor;\n","/**\n * Premium settings tab.\n */\n/* global ajaxurl:true */\n\nimport Build from '../../../builders';\nimport './styles.scss';\n\n// Store global scriot object for settings page.\nlet params = null;\n\n// Premium HTML emelent.\nlet premium = null;\n\n/**\n * Parse error code from settings or AJAX response.\n *\n * @param {string} code  Error code from settings or AJAX response.\n * @param {string} title Prepended error title. Optional.\n */\nfunction parseErrorCode( code, title ) {\n\tconst message = [];\n\n\tif ( undefined === title ) {\n\t\ttitle = wp.i18n.__( 'Verification failed.', 'sharing-image' );\n\t}\n\n\tmessage.push( title );\n\n\tswitch ( code ) {\n\t\tcase 'LIMIT_EXCEEDED':\n\t\t\tmessage.push( wp.i18n.__( 'The number of licenses for this key has been exceeded.', 'sharing-image' ) );\n\n\t\t\tbreak;\n\n\t\tcase 'KEY_NOT_FOUND':\n\t\t\tmessage.push( wp.i18n.__( 'Premium key is invalid or expired.', 'sharing-image' ) );\n\n\t\t\tbreak;\n\n\t\tcase 'SERVER_ERROR':\n\t\t\tmessage.push( wp.i18n.__( 'Unable to get a response from the verification server.', 'sharing-image' ) );\n\n\t\t\tbreak;\n\t}\n\n\treturn message.join( ' ' );\n}\n\n/**\n * Show premium warning message.\n *\n * @param {string} message Warning message.\n */\nfunction showPremiumError( message ) {\n\t// Try to find warning element.\n\tconst warning = premium.querySelector( '.sharing-image-premium-warning' );\n\n\tif ( null === warning ) {\n\t\treturn;\n\t}\n\n\twarning.classList.add( 'warning-visible' );\n\twarning.textContent = message || wp.i18n.__( 'Unknown request error', 'sharing-image' );\n}\n\n/**\n * Remove warning message block.\n */\nfunction hidePremiumError() {\n\t// Try to find warning element.\n\tconst warning = premium.querySelector( '.sharing-image-premium-warning' );\n\n\tif ( null === warning ) {\n\t\treturn;\n\t}\n\n\twarning.classList.remove( 'warning-visible' );\n}\n\n/**\n * Revoke Premium key.\n *\n * @param {HTMLElement} access Access form element.\n */\nfunction revokePremium( access ) {\n\taccess.classList.add( 'access-loader' );\n\n\tconst request = new XMLHttpRequest();\n\trequest.open( 'POST', ajaxurl );\n\trequest.responseType = 'json';\n\n\t// Create data bundle using form data.\n\tconst bundle = new window.FormData( access );\n\tbundle.set( 'action', 'sharing_image_revoke' );\n\n\thidePremiumError();\n\n\trequest.addEventListener( 'load', () => {\n\t\tconst response = request.response || {};\n\n\t\t// Hide form loader class.\n\t\taccess.classList.remove( 'access-loader' );\n\n\t\tif ( ! response.data ) {\n\t\t\treturn showPremiumError();\n\t\t}\n\n\t\tif ( ! response.success ) {\n\t\t\treturn showPremiumError( response.data );\n\t\t}\n\n\t\tparams.license = response.data;\n\n\t\t// Refresh premium fields.\n\t\tpreparePremiumFields();\n\t} );\n\n\trequest.addEventListener( 'error', () => {\n\t\tshowPremiumError();\n\n\t\t// Hide form loader class.\n\t\taccess.classList.remove( 'access-loader' );\n\t} );\n\n\trequest.send( bundle );\n}\n\n/**\n * Verify Premium key.\n *\n * @param {HTMLElement} access Access form element.\n */\nfunction verifyPremium( access ) {\n\taccess.classList.add( 'access-loader' );\n\n\tconst request = new XMLHttpRequest();\n\trequest.open( 'POST', ajaxurl );\n\trequest.responseType = 'json';\n\n\t// Create data bundle using form data.\n\tconst bundle = new window.FormData( access );\n\tbundle.set( 'action', 'sharing_image_verify' );\n\n\thidePremiumError();\n\n\trequest.addEventListener( 'load', () => {\n\t\tconst response = request.response || {};\n\n\t\t// Hide form loader class.\n\t\taccess.classList.remove( 'access-loader' );\n\n\t\tif ( ! response.data ) {\n\t\t\treturn showPremiumError();\n\t\t}\n\n\t\tif ( ! response.success ) {\n\t\t\treturn showPremiumError( parseErrorCode( response.code, response.data ) );\n\t\t}\n\n\t\tparams.license = response.data;\n\n\t\t// Refresh premium fields.\n\t\tpreparePremiumFields();\n\t} );\n\n\trequest.addEventListener( 'error', () => {\n\t\tshowPremiumError();\n\n\t\t// Hide form loader class.\n\t\taccess.classList.remove( 'access-loader' );\n\t} );\n\n\trequest.send( bundle );\n}\n\n/**\n * Show verify form if stil not premium.\n *\n * @param {HTMLElement} access  Access HTML element.\n * @param {Object}      license License data.\n */\nfunction showVerifyForm( access, license ) {\n\tif ( license.error ) {\n\t\tshowPremiumError( parseErrorCode( license.error ) );\n\t}\n\n\tBuild.element( 'strong', {\n\t\ttext: wp.i18n.__( 'Do you already have a key? Enter it here', 'sharing-image' ),\n\t\tappend: access,\n\t} );\n\n\tconst verify = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-premium-verify' ],\n\t\tappend: access,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tlabel: wp.i18n.__( 'Your Premium key', 'sharing-image' ),\n\t\tattributes: {\n\t\t\ttype: 'text',\n\t\t\tname: 'sharing_image_key',\n\t\t\tvalue: license.key,\n\t\t},\n\t\tappend: verify,\n\t} );\n\n\tBuild.element( 'button', {\n\t\tclasses: [ 'button' ],\n\t\ttext: wp.i18n.__( 'Submit', 'sharing-image' ),\n\t\tattributes: {\n\t\t\ttype: 'submit',\n\t\t},\n\t\tappend: verify,\n\t} );\n\n\tBuild.element( 'span', {\n\t\tclasses: [ 'spinner' ],\n\t\tappend: verify,\n\t} );\n\n\taccess.addEventListener( 'submit', ( e ) => {\n\t\te.preventDefault();\n\n\t\tverifyPremium( access );\n\t} );\n}\n\n/**\n * Show alert for develop license mode.\n */\nfunction showDevelopAlert() {\n\tshowPremiumError(\n\t\twp.i18n.__( 'Using plugin with a development license is prohibited in production.', 'sharing-image' )\n\t);\n}\n\n/**\n * Show revoke Premium button.\n *\n * @param {HTMLElement} access Access HTML element.\n */\nfunction showRevokeButton( access ) {\n\tconst revoke = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-premium-revoke' ],\n\t\tappend: access,\n\t} );\n\n\tconst description = [];\n\n\tdescription.push(\n\t\twp.i18n.__( 'Disabling premium mode will not remove the license for this domain.', 'sharing-image' )\n\t);\n\n\tdescription.push( wp.i18n.__( 'Your current key will also be saved in the plugin settings.', 'sharing-image' ) );\n\n\tdescription.push( wp.i18n.__( 'Use key management tool to delete the license for the site.', 'sharing-image' ) );\n\n\tBuild.element( 'p', {\n\t\ttext: description.join( ' ' ),\n\t\tappend: revoke,\n\t} );\n\n\tBuild.element( 'button', {\n\t\tclasses: [ 'button' ],\n\t\ttext: wp.i18n.__( 'Disable Premium', 'sharing-image' ),\n\t\tattributes: {\n\t\t\ttype: 'submit',\n\t\t},\n\t\tappend: revoke,\n\t} );\n\n\tBuild.element( 'span', {\n\t\tclasses: [ 'spinner' ],\n\t\tappend: revoke,\n\t} );\n\n\taccess.addEventListener( 'submit', ( e ) => {\n\t\te.preventDefault();\n\n\t\trevokePremium( access );\n\t} );\n}\n\n/**\n * Show permit information.\n *\n * @param {HTMLElement} access Access HTML element.\n * @param {string}      key    License key from settings.\n */\nfunction showLicenseInfo( access, key ) {\n\tconst permit = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-premium-permit' ],\n\t\tappend: access,\n\t} );\n\n\tconst button = Build.element( 'button', {\n\t\tclasses: [ 'sharing-image-premium-show', 'button' ],\n\t\ttext: wp.i18n.__( 'Show License key', 'sharing-image' ),\n\t\tattributes: {\n\t\t\ttype: 'button',\n\t\t},\n\t\tappend: permit,\n\t} );\n\n\tbutton.addEventListener( 'click', () => {\n\t\tpermit.classList.toggle( 'permit-visible' );\n\t} );\n\n\tBuild.element( 'strong', {\n\t\ttext: key,\n\t\tappend: permit,\n\t} );\n\n\treturn permit;\n}\n\n/**\n * Show fields if user has the license.\n *\n * @param {HTMLElement} access  Access HTML element.\n * @param {Object}      license License data.\n */\nfunction showPremiumData( access, license ) {\n\tpremium.classList.add( 'premium-enabled' );\n\n\tif ( license.develop ) {\n\t\treturn showDevelopAlert();\n\t}\n\n\tif ( license.key ) {\n\t\tshowLicenseInfo( access, license.key );\n\t}\n\n\tshowRevokeButton( access );\n}\n\n/**\n * Set premium fields according settings.\n */\nfunction preparePremiumFields() {\n\tlet access = premium.querySelector( '.sharing-image-premium-access' );\n\n\tif ( null !== access ) {\n\t\tpremium.removeChild( access );\n\t}\n\n\taccess = Build.element( 'form', {\n\t\tclasses: [ 'sharing-image-premium-access' ],\n\t\tattributes: {\n\t\t\taction: '',\n\t\t\tmethod: 'POST',\n\t\t},\n\t\tappend: premium,\n\t} );\n\n\tpremium.classList.remove( 'premium-enabled' );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'sharing_image_nonce',\n\t\t\tvalue: params.nonce,\n\t\t},\n\t\tappend: access,\n\t} );\n\n\tconst license = params.license || {};\n\n\t// Show fields if user has the license.\n\tif ( license.premium || license.develop ) {\n\t\treturn showPremiumData( access, license );\n\t}\n\n\treturn showVerifyForm( access, license );\n}\n\n/**\n * Create templates catalog from options.\n *\n * @param {HTMLElement} content  Settings content element.\n * @param {Object}      settings Global settings field.\n */\nfunction createPremium( content, settings ) {\n\tparams = settings;\n\n\t// Find premium element\n\tpremium = content.querySelector( '.sharing-image-premium' );\n\n\tif ( null === premium ) {\n\t\treturn;\n\t}\n\n\tBuild.element( 'div', {\n\t\tclasses: [ 'sharing-image-premium-warning' ],\n\t\tappend: premium,\n\t} );\n\n\tpreparePremiumFields();\n}\n\nexport default createPremium;\n","/**\n * Tools settings tab.\n */\n\nimport Build from '../../../builders';\nimport './styles.scss';\n\n// Store global script object for settings page.\nlet params = null;\n\n/**\n * Create export options block.\n *\n * @param {HTMLElement} tools Tools wrapper element.\n */\nfunction createExportOptions( tools ) {\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-tools-control' ],\n\t\tlabel: wp.i18n.__( 'Export templates', 'sharing-image' ),\n\t\tappend: tools,\n\t} );\n\n\tconst fieldset = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-tools-control-fieldset' ],\n\t\tappend: control,\n\t} );\n\n\t// Set template index to delete link.\n\tconst link = new URL( params.links.action );\n\n\tlink.searchParams.set( 'action', 'sharing_image_export' );\n\tlink.searchParams.set( 'nonce', params.nonce );\n\n\tBuild.element( 'a', {\n\t\tclasses: [ 'button', 'button-primary' ],\n\t\ttext: wp.i18n.__( 'Download backup file', 'sharing-image' ),\n\t\tattributes: {\n\t\t\thref: link.href,\n\t\t},\n\t\tappend: fieldset,\n\t} );\n\n\tBuild.element( 'small', {\n\t\ttext: wp.i18n.__( 'Save a local copy of all template settings for later use.', 'sharing-image' ),\n\t\tappend: fieldset,\n\t} );\n}\n\n/**\n * Create import options block.\n *\n * @param {HTMLElement} tools Tools wrapper element.\n */\nfunction createImportOptions( tools ) {\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-tools-control' ],\n\t\tlabel: wp.i18n.__( 'Import templates', 'sharing-image' ),\n\t\tappend: tools,\n\t} );\n\n\tconst uploader = Build.element( 'form', {\n\t\tclasses: [ 'sharing-image-tools-control-uploader' ],\n\t\tattributes: {\n\t\t\taction: params.links.action,\n\t\t\tmethod: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t},\n\t\tappend: control,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tclasses: [ 'sharing-image-tools-control-file' ],\n\t\tattributes: {\n\t\t\ttype: 'file',\n\t\t\tname: 'sharing_image_import',\n\t\t\taccept: 'application/json',\n\t\t\trequired: 'required',\n\t\t},\n\t\tappend: uploader,\n\t} );\n\n\tBuild.element( 'button', {\n\t\tclasses: [ 'button', 'button-primary' ],\n\t\tattributes: {\n\t\t\ttype: 'submit',\n\t\t},\n\t\ttext: wp.i18n.__( 'Import templates', 'sharing-image' ),\n\t\tappend: uploader,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'action',\n\t\t\tvalue: 'sharing_image_import',\n\t\t},\n\t\tappend: uploader,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'sharing_image_nonce',\n\t\t\tvalue: params.nonce,\n\t\t},\n\t\tappend: uploader,\n\t} );\n}\n\n/**\n * Create import options block.\n *\n * @param {HTMLElement} tools Tools wrapper element.\n */\nfunction createCloningOptions( tools ) {\n\tconst templates = params.templates || [];\n\n\tconst control = Build.control( {\n\t\tclasses: [ 'sharing-image-tools-control', 'control-section' ],\n\t\tlabel: wp.i18n.__( 'Clone template', 'sharing-image' ),\n\t\tappend: tools,\n\t} );\n\n\tconst warning = Build.element( 'p', {\n\t\tclasses: [ 'sharing-image-tools-warning' ],\n\t\ttext: wp.i18n.__( 'You need to enable Premium and create at least one template.', 'sharing-image' ),\n\t} );\n\n\tconst license = params.license || {};\n\n\tif ( templates.length === 0 || ( ! license.premium && ! license.develop ) ) {\n\t\treturn control.appendChild( warning );\n\t}\n\n\tconst fields = {};\n\n\tfor ( const i in templates ) {\n\t\tfields[ i ] = templates[ i ].title || wp.i18n.__( 'Untitled', 'sharing-image' );\n\t}\n\n\tconst cloning = Build.element( 'form', {\n\t\tclasses: [ 'sharing-image-tools-control-cloning' ],\n\t\tattributes: {\n\t\t\taction: params.links.action,\n\t\t\tmethod: 'POST',\n\t\t},\n\t\tappend: control,\n\t} );\n\n\tconst select = Build.select(\n\t\t{\n\t\t\tclasses: [ 'sharing-image-tools-control-duplicator' ],\n\t\t\toptions: fields,\n\t\t\tattributes: {\n\t\t\t\tname: 'sharing_image_clone',\n\t\t\t},\n\t\t},\n\t\tcloning\n\t);\n\n\tBuild.element( 'button', {\n\t\tclasses: [ 'button', 'button-primary' ],\n\t\tattributes: {\n\t\t\ttype: 'submit',\n\t\t},\n\t\ttext: wp.i18n.__( 'Create a copy', 'sharing-image' ),\n\t\tappend: select.parentNode,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'action',\n\t\t\tvalue: 'sharing_image_clone',\n\t\t},\n\t\tappend: cloning,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'sharing_image_nonce',\n\t\t\tvalue: params.nonce,\n\t\t},\n\t\tappend: cloning,\n\t} );\n}\n\n/**\n * Create templates catalog from options.\n *\n * @param {HTMLElement} content  Settings content element.\n * @param {Object}      settings Global settings field.\n */\nfunction createTools( content, settings ) {\n\tparams = settings;\n\n\t// Find tools element\n\tconst tools = content.querySelector( '.sharing-image-tools' );\n\n\tif ( null === tools ) {\n\t\treturn;\n\t}\n\n\t// Cloning options.\n\tcreateCloningOptions( tools );\n\n\t// Export options.\n\tcreateExportOptions( tools );\n\n\t// Import options.\n\tcreateImportOptions( tools );\n}\n\nexport default createTools;\n","import { urlAlphabet } from './url-alphabet/index.js'\nexport { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (size--) {\n    id += urlAlphabet[bytes[size] & 63]\n  }\n  return id\n}\n","export const urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Helper from '../helpers';\n\nimport Tools from './pages/tools';\nimport Catalog from './pages/catalog';\nimport Premium from './pages/premium';\nimport Editor from './pages/editor';\nimport Config from './pages/config';\n\nimport './styles.scss';\n\n/**\n * Init premium settings tab.\n *\n * @param {HTMLElement} content  Settings content element.\n * @param {Object}      settings Global settings object.\n */\nfunction initPremiumTab( content, settings ) {\n\tPremium( content, settings );\n}\n\n/**\n * Init config settings tab.\n *\n * @param {HTMLElement} content  Settings content element.\n * @param {Object}      settings Global settings object.\n */\nfunction initConfigTab( content, settings ) {\n\tConfig( content, settings );\n}\n\n/**\n * Init tools settings tab.\n *\n * @param {HTMLElement} content  Settings content element.\n * @param {Object}      settings Global settings object.\n */\nfunction initToolsTab( content, settings ) {\n\tTools( content, settings );\n}\n\n/**\n * Init config settings tab.\n *\n * @param {HTMLElement} content  Settings content element.\n * @param {Object}      settings Global settings object.\n */\nfunction initTemplatesTab( content, settings ) {\n\t// Get index from URL search parameter.\n\tlet index = null;\n\n\t// Set default templates empty list.\n\tsettings.templates = settings.templates || [];\n\n\tif ( Helper.param( 'template' ) ) {\n\t\tindex = Helper.param( 'template' );\n\t}\n\n\tconst data = settings.templates[ index ];\n\n\t// Create editor for existing template.\n\tif ( undefined !== data ) {\n\t\treturn Editor( content, settings, index, data );\n\t}\n\n\t// Create editor for new template.\n\tif ( null === index ) {\n\t\treturn Catalog( content, settings );\n\t}\n\n\tEditor( content, settings, index );\n}\n\n/**\n * Init settings page handler.\n */\n( function () {\n\tif ( typeof 'undefined' === wp ) {\n\t\treturn;\n\t}\n\n\tlet object = window.sharingImageSettings || {};\n\n\t// Add default required values to object.\n\tobject = Helper.defaults( object, [ 'links', 'fonts', 'config', 'templates', 'license' ] );\n\n\t// Find settings content element.\n\tconst content = document.querySelector( '#sharing-image-settings .sharing-image-content' );\n\n\tif ( null === content ) {\n\t\treturn;\n\t}\n\n\tcontent.classList.add( 'content-visible' );\n\n\tswitch ( Helper.param( 'tab' ) ) {\n\t\tcase 'config':\n\t\t\tinitConfigTab( content, object );\n\n\t\t\tbreak;\n\n\t\tcase 'tools':\n\t\t\tinitToolsTab( content, object );\n\n\t\t\tbreak;\n\n\t\tcase 'premium':\n\t\t\tinitPremiumTab( content, object );\n\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tinitTemplatesTab( content, object );\n\t}\n} )();\n"],"names":["buildElement","buildCheckbox","args","parent","field","classes","append","checkbox","attributes","type","dataset","hasOwnProperty","key","value","undefined","setAttribute","checked","label","text","appendChild","buildInput","buildRadio","buildSelect","buildTextarea","buildControl","control","prepend","insertBefore","firstChild","description","fields","forEach","group","help","tag","element","document","createElement","cl","classList","add","textContent","innerHTML","html","buildLayer","buildMedia","Build","layer","media","input","textarea","radio","select","counter","title","wp","i18n","__","addEventListener","Helper","labels","attachment","name","upload","button","details","target","setAttachment","id","dispatchEvent","Event","bubbles","link","URL","searchParams","set","href","remove","removeAttachment","options","heading","library","mime","option","selected","content","uploadMedia","callback","multiple","frame","on","selection","state","get","first","toJSON","open","getElement","node","querySelector","intersectDefaults","object","defaults","item","getSearchParam","uploadAttachment","getUniqueId","param","uniqid","dataget","params","location","customAlphabet","nanoid","createCard","catalog","index","card","preview","src","alt","footer","createNewButton","templates","length","license","premium","develop","links","createCatalog","settings","createDefaultOptions","data","default","uploads","push","join","createUploadsOptions","fieldset","storage","disabled","querySelectorAll","createImageOptions","jpg","png","gif","format","min","max","step","quality","createAutogenerateOptions","manual","i","autogenerate","String","createLiveReloadOptions","suspend","createAttachmentOptions","createMetaFields","nonce","createConfig","config","action","method","editor","showTemplateError","message","viewport","parentNode","warning","hideTemplateError","generateTemplate","request","XMLHttpRequest","ajaxurl","responseType","bundle","window","FormData","readyState","status","response","image","createObjectURL","send","saveTemplate","success","submit","createTextDynamicFields","dynamic","caption","sample","rows","presets","persistent","preset","taxonomy","taxonomies","toggleClasses","toggle","updateLayerCaption","createImageDynamicFields","updateDynamic","createBackgroundButton","sizes","dimension","x","y","width","height","createImageSizesFields","placeholder","toggleDimensions","resize","dimensions","includes","empty","prefix","createTextMoreFields","createFontField","color","left","center","right","horizontal","top","bottom","vertical","removeChild","Object","keys","click","fonts","fontname","fontfile","createRectangleOutline","outline","range","thickness","createCatalogButton","delete","createDeleteButton","e","confirm","preventDefault","createPreview","createCollapseButton","collapsed","contains","createOrderLayersButton","designer","previousSibling","createDeleteLayerButton","createLayerImage","createLayerText","fontsize","lineheight","createLayerFilter","grayscale","blur","contrast","brightness","blackout","createLayerRectangle","opacity","createLayer","createDesigner","filter","rectangle","scrollIntoView","behavior","layers","created","createFieldset","fill","maxlength","hasAttribute","createSubmitButton","manager","createGenerateButton","createDebugCheckbox","debug","createMonitor","monitor","prepareEditor","form","createEditor","parseErrorCode","code","showPremiumError","hidePremiumError","revokePremium","access","preparePremiumFields","verifyPremium","showVerifyForm","error","verify","showDevelopAlert","showRevokeButton","revoke","showLicenseInfo","permit","showPremiumData","createPremium","createExportOptions","tools","createImportOptions","uploader","enctype","accept","required","createCloningOptions","cloning","createTools","Tools","Catalog","Premium","Editor","Config","initPremiumTab","initConfigTab","initToolsTab","initTemplatesTab","sharingImageSettings"],"sourceRoot":""}