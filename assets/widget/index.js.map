{"version":3,"file":"widget/index.js","mappings":"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","sources":["webpack://sharing-image/./src/widget/styles.scss","webpack://sharing-image/./src/builders/checkbox.js","webpack://sharing-image/./src/builders/control.js","webpack://sharing-image/./src/builders/element.js","webpack://sharing-image/./src/builders/index.js","webpack://sharing-image/./src/builders/input.js","webpack://sharing-image/./src/builders/layer.js","webpack://sharing-image/./src/builders/media.js","webpack://sharing-image/./src/builders/radio.js","webpack://sharing-image/./src/builders/select.js","webpack://sharing-image/./src/builders/textarea.js","webpack://sharing-image/./src/helpers/attachment.js","webpack://sharing-image/./src/helpers/dataget.js","webpack://sharing-image/./src/helpers/defaults.js","webpack://sharing-image/./src/helpers/index.js","webpack://sharing-image/./src/helpers/param.js","webpack://sharing-image/./src/helpers/uniqid.js","webpack://sharing-image/./node_modules/nanoid/index.browser.js","webpack://sharing-image/./node_modules/nanoid/url-alphabet/index.js","webpack://sharing-image/webpack/bootstrap","webpack://sharing-image/webpack/runtime/define property getters","webpack://sharing-image/webpack/runtime/hasOwnProperty shorthand","webpack://sharing-image/webpack/runtime/make namespace object","webpack://sharing-image/./src/widget/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","import buildElement from './element.js';\n\n/**\n * Helper to create radio field.\n *\n * @param {Object}      args   List of control options.\n * @param {HTMLElement} parent Parent HTML element to append this field.\n */\nfunction buildCheckbox( args, parent ) {\n\tconst field = buildElement( 'label', {\n\t\tclasses: args.classes || [],\n\t\tappend: parent,\n\t} );\n\n\tconst checkbox = buildElement( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'checkbox',\n\t\t},\n\t\tdataset: args.dataset || {},\n\t\tappend: field,\n\t} );\n\n\t// Set attributes\n\tif ( args.hasOwnProperty( 'attributes' ) ) {\n\t\tfor ( const key in args.attributes ) {\n\t\t\tconst value = args.attributes[ key ];\n\n\t\t\tif ( undefined === value ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tcheckbox.setAttribute( key, value );\n\t\t}\n\t}\n\n\tif ( args.hasOwnProperty( 'checked' ) ) {\n\t\tconst checked = args.checked;\n\n\t\tif ( checked && checked === checkbox.value ) {\n\t\t\tcheckbox.setAttribute( 'checked', 'checked' );\n\t\t}\n\t}\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tconst label = buildElement( 'span', {\n\t\t\ttext: args.label,\n\t\t} );\n\n\t\tif ( null !== args.label ) {\n\t\t\tfield.appendChild( label );\n\t\t}\n\t}\n\n\treturn checkbox;\n}\n\nexport default buildCheckbox;\n","import buildElement from './element';\n\nimport buildInput from './input';\nimport buildCheckbox from './checkbox';\nimport buildRadio from './radio';\nimport buildSelect from './select';\nimport buildTextarea from './textarea';\n\n/**\n * Helper to create control.\n *\n * @param {Object} args List of control options.\n */\nfunction buildControl( args ) {\n\tconst control = buildElement( 'div', {\n\t\tclasses: args.classes || [],\n\t} );\n\n\tif ( args.hasOwnProperty( 'append' ) ) {\n\t\targs.append.appendChild( control );\n\t}\n\n\tif ( args.hasOwnProperty( 'prepend' ) ) {\n\t\targs.prepend.insertBefore( control, args.prepend.firstChild );\n\t}\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tbuildElement( 'h3', {\n\t\t\ttext: args.label,\n\t\t\tappend: control,\n\t\t} );\n\t}\n\n\tif ( args.hasOwnProperty( 'description' ) ) {\n\t\tbuildElement( 'p', {\n\t\t\ttext: args.description,\n\t\t\tappend: control,\n\t\t} );\n\t}\n\n\tif ( args.hasOwnProperty( 'fields' ) ) {\n\t\targs.fields.forEach( ( field ) => {\n\t\t\tswitch ( field.group ) {\n\t\t\t\tcase 'input':\n\t\t\t\t\tbuildInput( field, control );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'textarea':\n\t\t\t\t\tbuildTextarea( field, control );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'radio':\n\t\t\t\t\tbuildRadio( field, control );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'select':\n\t\t\t\t\tbuildSelect( field, control );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'checkbox':\n\t\t\t\t\tbuildCheckbox( field, control );\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} );\n\t}\n\n\tif ( args.hasOwnProperty( 'help' ) ) {\n\t\tbuildElement( 'small', {\n\t\t\ttext: args.help,\n\t\t\tappend: control,\n\t\t} );\n\t}\n\n\treturn control;\n}\n\nexport default buildControl;\n","/**\n * Helper to create new DOM element.\n *\n * @param {string} tag  Element tagname.\n * @param {Object} args List of element options.\n */\nfunction buildElement( tag, args = {} ) {\n\tconst element = document.createElement( tag );\n\n\t// Set class list\n\tif ( args.hasOwnProperty( 'classes' ) ) {\n\t\targs.classes.forEach( ( cl ) => {\n\t\t\telement.classList.add( cl );\n\t\t} );\n\t}\n\n\t// Set textContent\n\tif ( args.hasOwnProperty( 'text' ) ) {\n\t\telement.textContent = args.text;\n\t}\n\n\t// Set innerHTML\n\tif ( args.hasOwnProperty( 'html' ) ) {\n\t\telement.innerHTML = args.html;\n\t}\n\n\t// Set attributes\n\tif ( args.hasOwnProperty( 'attributes' ) ) {\n\t\tfor ( const key in args.attributes ) {\n\t\t\tconst value = args.attributes[ key ];\n\n\t\t\tif ( undefined === value ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\telement.setAttribute( key, value );\n\t\t}\n\t}\n\n\t// Set data attributes\n\tif ( args.hasOwnProperty( 'dataset' ) ) {\n\t\tfor ( const key in args.dataset ) {\n\t\t\telement.setAttribute( 'data-' + key, args.dataset[ key ] );\n\t\t}\n\t}\n\n\t// Append child\n\tif ( args.hasOwnProperty( 'append' ) ) {\n\t\targs.append.appendChild( element );\n\t}\n\n\t// Prepend child\n\tif ( args.hasOwnProperty( 'prepend' ) ) {\n\t\targs.prepend.insertBefore( element, args.prepend.firstChild );\n\t}\n\n\treturn element;\n}\n\nexport default buildElement;\n","import buildElement from './element.js';\nimport buildControl from './control.js';\nimport buildLayer from './layer.js';\nimport buildMedia from './media.js';\n\nimport buildInput from './input.js';\nimport buildTextarea from './textarea.js';\nimport buildCheckbox from './checkbox.js';\nimport buildRadio from './radio.js';\nimport buildSelect from './select.js';\n\nconst Build = {\n\telement: buildElement,\n\tcontrol: buildControl,\n\tlayer: buildLayer,\n\tcheckbox: buildCheckbox,\n\tmedia: buildMedia,\n\tinput: buildInput,\n\ttextarea: buildTextarea,\n\tradio: buildRadio,\n\tselect: buildSelect,\n};\n\nexport default Build;\n","import buildElement from './element.js';\nimport Build from './index.js';\n\n/**\n * Helper to create input field.\n *\n * @param {Object}      args   List of control options.\n * @param {HTMLElement} parent Parent HTML element to append this field.\n */\nfunction buildInput( args, parent ) {\n\tconst field = buildElement( 'div', {\n\t\tclasses: args.classes || [],\n\t\tappend: parent,\n\t} );\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tconst label = buildElement( 'h4', {\n\t\t\ttext: args.label,\n\t\t} );\n\n\t\tif ( null !== args.label ) {\n\t\t\tfield.appendChild( label );\n\t\t}\n\t}\n\n\tconst input = buildElement( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'text',\n\t\t},\n\t\tdataset: args.dataset || {},\n\t\tappend: field,\n\t} );\n\n\t// Set attributes.\n\tif ( args.hasOwnProperty( 'attributes' ) ) {\n\t\tfor ( const key in args.attributes ) {\n\t\t\tconst value = args.attributes[ key ];\n\n\t\t\tif ( undefined === value ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tinput.setAttribute( key, value );\n\t\t}\n\t}\n\n\tif ( 'range' === input.type ) {\n\t\tconst counter = Build.element( 'em', {\n\t\t\ttext: input.value,\n\t\t\tattributes: {\n\t\t\t\ttitle: wp.i18n.__( 'Click to change input view', 'sharing-image' ),\n\t\t\t},\n\t\t\tappend: field,\n\t\t} );\n\n\t\tinput.addEventListener( 'change', () => {\n\t\t\tcounter.textContent = input.value;\n\t\t} );\n\n\t\tinput.addEventListener( 'input', () => {\n\t\t\tcounter.textContent = input.value;\n\t\t} );\n\n\t\tcounter.addEventListener( 'click', () => {\n\t\t\tif ( 'text' === input.type ) {\n\t\t\t\treturn input.type = 'range';\n\t\t\t}\n\n\t\t\treturn input.type = 'text';\n\t\t} );\n\t}\n\n\treturn input;\n}\n\nexport default buildInput;\n","import buildElement from './element';\n\n/**\n * Helper to create layer.\n *\n * @param {Object} args List of layer options.\n */\nfunction buildLayer( args ) {\n\tconst layer = buildElement( 'div', {\n\t\tclasses: args.classes || [],\n\t} );\n\n\tif ( args.hasOwnProperty( 'append' ) ) {\n\t\targs.append.appendChild( layer );\n\t}\n\n\tif ( args.hasOwnProperty( 'prepend' ) ) {\n\t\targs.prepend.insertBefore( layer, args.prepend.firstChild );\n\t}\n\n\tif ( ! args.hasOwnProperty( 'label' ) ) {\n\t\targs.label = '';\n\t}\n\n\tconst title = buildElement( 'h2', {\n\t\ttext: args.label,\n\t\tappend: layer,\n\t} );\n\n\tbuildElement( 'span', {\n\t\tappend: title,\n\t} );\n\n\tif ( args.hasOwnProperty( 'description' ) ) {\n\t\tbuildElement( 'h5', {\n\t\t\ttext: args.description,\n\t\t\tappend: layer,\n\t\t} );\n\t}\n\n\treturn layer;\n}\n\nexport default buildLayer;\n","import buildElement from './element';\nimport buildControl from './control';\n\nimport Helper from '../helpers';\n\n/**\n * Display image by it ID in figure tag.\n *\n * @param {HTMLElement} media Media element.\n * @param {number}      value Image attachment value.\n */\nfunction displayImage( media, value ) {\n\tlet figure = media.querySelector( 'figure' );\n\n\tif ( figure ) {\n\t\tmedia.removeChild( figure );\n\t}\n\n\tif ( ! wp.media ) {\n\t\treturn;\n\t}\n\n\tfigure = buildElement( 'figure', { prepend: media } );\n\n\tif ( media.querySelector( 'h4' ) ) {\n\t\tmedia.insertBefore( figure, media.querySelector( 'h4' ).nextSibling );\n\t}\n\n\tif ( ! value ) {\n\t\treturn;\n\t}\n\n\tlet image = figure.querySelector( 'img' );\n\n\tif ( image ) {\n\t\tfigure.removeChild( image );\n\t}\n\n\timage = buildElement( 'img', { append: figure } );\n\n\tconst frame = wp.media.attachment( value ).fetch();\n\tframe.then( ( data ) => {\n\t\timage.src = data.sizes?.thumbnail?.url || data.url;\n\t} );\n}\n\n/**\n * Helper to create media block.\n *\n * @param {Object} args List of media options.\n */\nfunction buildMedia( args ) {\n\tconst media = buildControl( {\n\t\tclasses: args.classes || [],\n\t} );\n\n\tif ( args.hasOwnProperty( 'append' ) ) {\n\t\targs.append.appendChild( media );\n\t}\n\n\tif ( args.hasOwnProperty( 'prepend' ) ) {\n\t\targs.prepend.insertBefore( media, args.prepend.firstChild );\n\t}\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tconst label = buildElement( 'h4', {\n\t\t\ttext: args.label,\n\t\t} );\n\n\t\tif ( null !== args.label ) {\n\t\t\tmedia.appendChild( label );\n\t\t}\n\t}\n\n\t// Labels are required.\n\targs.labels = args.labels || {};\n\n\tconst attachment = buildElement( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: args.name,\n\t\t},\n\t\tappend: media,\n\t} );\n\n\tconst button = buildElement( 'button', {\n\t\tclasses: [ 'button' ],\n\t\ttext: args.labels.button,\n\t\tattributes: {\n\t\t\ttype: 'button',\n\t\t},\n\t\tappend: media,\n\t} );\n\n\tconst details = buildElement( 'a', {\n\t\tclasses: [ 'hidden' ],\n\t\ttext: args.labels.details,\n\t\tattributes: {\n\t\t\ttarget: '_blank',\n\t\t},\n\t} );\n\n\tif ( args.hasOwnProperty( 'link' ) ) {\n\t\tmedia.appendChild( details );\n\t}\n\n\tif ( args.hasOwnProperty( 'help' ) ) {\n\t\tbuildElement( 'small', {\n\t\t\ttext: args.help,\n\t\t\tappend: media,\n\t\t} );\n\t}\n\n\t// Helper function to update attachment value.\n\tconst setAttachment = ( id ) => {\n\t\tattachment.setAttribute( 'value', id );\n\t\tattachment.dispatchEvent( new Event( 'change', { bubbles: true } ) );\n\n\t\tlet link = null;\n\n\t\tif ( args.hasOwnProperty( 'link' ) ) {\n\t\t\tlink = new URL( args.link );\n\t\t\tlink.searchParams.set( 'item', id );\n\n\t\t\tdetails.setAttribute( 'href', link.href );\n\t\t}\n\n\t\tif ( args.remove ) {\n\t\t\tbutton.textContent = args.labels.remove;\n\t\t}\n\n\t\tif ( args.image ) {\n\t\t\tdisplayImage( media, id );\n\t\t}\n\n\t\tdetails.classList.remove( 'hidden' );\n\t};\n\n\t// Helper function to remove attachment value.\n\tconst removeAttachment = () => {\n\t\tattachment.setAttribute( 'value', '' );\n\t\tattachment.dispatchEvent( new Event( 'change', { bubbles: true } ) );\n\n\t\t// Set default button title.\n\t\tbutton.textContent = args.labels.button;\n\n\t\tif ( args.image ) {\n\t\t\tdisplayImage( media, 0 );\n\t\t}\n\n\t\tdetails.classList.add( 'hidden' );\n\t};\n\n\tif ( args.image ) {\n\t\tdisplayImage( media, 0 );\n\t}\n\n\t// Update fields if this layer has attachment.\n\tif ( args.value ) {\n\t\tsetAttachment( args.value );\n\t}\n\n\t// Handle upload button.\n\tbutton.addEventListener( 'click', () => {\n\t\tif ( args.remove && attachment.value ) {\n\t\t\treturn removeAttachment();\n\t\t}\n\n\t\tconst options = {\n\t\t\ttitle: args.labels.heading,\n\t\t};\n\n\t\tif ( args.hasOwnProperty( 'mime' ) ) {\n\t\t\toptions.library = {};\n\t\t\toptions.library.type = args.mime;\n\t\t}\n\n\t\tHelper.attachment( options, ( id ) => {\n\t\t\tsetAttachment( id );\n\t\t} );\n\t} );\n\n\t// Create custom event to set attachment.\n\tmedia.addEventListener( 'set_attachment', ( e ) => {\n\t\tif ( e.detail ) {\n\t\t\tsetAttachment( e.detail );\n\t\t}\n\t} );\n\n\t// Create custom event to remove attachment.\n\tmedia.addEventListener( 'remove_attachment', () => {\n\t\tremoveAttachment();\n\t} );\n\n\treturn media;\n}\n\nexport default buildMedia;\n","import buildElement from './element.js';\n\n/**\n * Helper to create radio field.\n *\n * @param {Object}      args   List of control options.\n * @param {HTMLElement} parent Parent HTML element to append this field.\n */\nfunction buildRadio( args, parent ) {\n\tconst field = buildElement( 'label', {\n\t\tclasses: args.classes || [],\n\t\tappend: parent,\n\t} );\n\n\tconst radio = buildElement( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'radio',\n\t\t},\n\t\tdataset: args.dataset || {},\n\t\tappend: field,\n\t} );\n\n\t// Set attributes\n\tif ( args.hasOwnProperty( 'attributes' ) ) {\n\t\tfor ( const key in args.attributes ) {\n\t\t\tconst value = args.attributes[ key ];\n\n\t\t\tif ( undefined === value ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tradio.setAttribute( key, value );\n\t\t}\n\t}\n\n\tif ( args.hasOwnProperty( 'checked' ) ) {\n\t\tconst checked = args.checked;\n\n\t\tif ( checked && checked === radio.value ) {\n\t\t\tradio.setAttribute( 'checked', 'checked' );\n\t\t}\n\t}\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tconst label = buildElement( 'span', {\n\t\t\ttext: args.label,\n\t\t} );\n\n\t\tif ( null !== args.label ) {\n\t\t\tfield.appendChild( label );\n\t\t}\n\t}\n\n\tif ( args.hasOwnProperty( 'help' ) ) {\n\t\tbuildElement( 'small', {\n\t\t\ttext: args.help,\n\t\t\tappend: field,\n\t\t} );\n\t}\n\n\treturn radio;\n}\n\nexport default buildRadio;\n","import buildElement from './element.js';\n\n/**\n * Helper to create select field.\n *\n * @param {Object}      args   List of control options.\n * @param {HTMLElement} parent Parent HTML element to append this field.\n */\nfunction buildSelect( args, parent ) {\n\tconst field = buildElement( 'div', {\n\t\tclasses: args.classes || [],\n\t\tappend: parent,\n\t} );\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tconst label = buildElement( 'h4', {\n\t\t\ttext: args.label,\n\t\t} );\n\n\t\tif ( null !== args.label ) {\n\t\t\tfield.appendChild( label );\n\t\t}\n\t}\n\n\tconst select = buildElement( 'select', {\n\t\tdataset: args.dataset || {},\n\t\tappend: field,\n\t} );\n\n\t// Set attributes\n\tif ( args.hasOwnProperty( 'attributes' ) ) {\n\t\tfor ( const key in args.attributes ) {\n\t\t\tconst value = args.attributes[ key ];\n\n\t\t\tif ( undefined === value ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tselect.setAttribute( key, value );\n\t\t}\n\t}\n\n\tconst options = args.options || {};\n\n\tfor ( const key in options ) {\n\t\tconst option = buildElement( 'option', {\n\t\t\ttext: options[ key ],\n\t\t\tattributes: {\n\t\t\t\tvalue: key,\n\t\t\t},\n\t\t\tappend: select,\n\t\t} );\n\n\t\tif ( args.hasOwnProperty( 'selected' ) ) {\n\t\t\tconst selected = args.selected;\n\n\t\t\tif ( selected && selected === option.value ) {\n\t\t\t\toption.setAttribute( 'selected', 'selected' );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn select;\n}\n\nexport default buildSelect;\n","import buildElement from './element.js';\n\n/**\n * Helper to create input field.\n *\n * @param {Object}      args   List of control options.\n * @param {HTMLElement} parent Parent HTML element to append this field.\n */\nfunction buildTextarea( args, parent ) {\n\tconst field = buildElement( 'div', {\n\t\tclasses: args.classes || [],\n\t\tappend: parent,\n\t} );\n\n\tif ( args.hasOwnProperty( 'label' ) ) {\n\t\tconst label = buildElement( 'h4', {\n\t\t\ttext: args.label,\n\t\t} );\n\n\t\tif ( null !== args.label ) {\n\t\t\tfield.appendChild( label );\n\t\t}\n\t}\n\n\tconst textarea = buildElement( 'textarea', {\n\t\tdataset: args.dataset || {},\n\t\tappend: field,\n\t} );\n\n\t// Set attributes\n\tif ( args.hasOwnProperty( 'attributes' ) ) {\n\t\tfor ( const key in args.attributes ) {\n\t\t\tconst value = args.attributes[ key ];\n\n\t\t\tif ( undefined === value ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ttextarea.setAttribute( key, value );\n\t\t}\n\t}\n\n\t// Set content\n\tif ( args.hasOwnProperty( 'content' ) ) {\n\t\tconst content = args.content;\n\n\t\tif ( undefined !== content ) {\n\t\t\ttextarea.innerHTML = content;\n\t\t}\n\t}\n\n\treturn textarea;\n}\n\nexport default buildTextarea;\n","/**\n * Upload media frame.\n *\n * @param {Object}   options  wp.media options.\n * @param {Function} callback Callback function.\n */\nfunction uploadMedia( options, callback ) {\n\tif ( ! options.hasOwnProperty( 'multiple' ) ) {\n\t\toptions.multiple = false;\n\t}\n\n\tif ( ! wp.media ) {\n\t\treturn;\n\t}\n\n\tconst frame = wp.media( options );\n\n\tframe.on( 'select', () => {\n\t\tconst selection = frame.state().get( 'selection' ).first().toJSON();\n\n\t\tif ( selection.id ) {\n\t\t\tcallback( selection.id );\n\t\t}\n\t} );\n\n\tframe.open();\n}\n\nexport default uploadMedia;\n","/**\n * Get element by data attribute.\n *\n * @param {HTMLElement} node  Parent node.\n * @param {string}      key   Data key param.\n * @param {string}      value Data value param.\n */\nfunction getElement( node, key, value ) {\n\tconst element = node.querySelector( `[data-${ key }=\"${ value }\"]` );\n\n\tif ( element ) {\n\t\treturn element.value;\n\t}\n}\n\nexport default getElement;\n","/**\n * Append empty default properties to object if not exist.\n *\n * @param {Object} object   Source object.\n * @param {Array}  defaults Required defaults properties.\n */\nfunction intersectDefaults( object, defaults ) {\n\tdefaults.forEach( ( item ) => {\n\t\tif ( undefined === object[ item ] ) {\n\t\t\tobject[ item ] = {};\n\t\t}\n\t} );\n\n\treturn object;\n}\n\nexport default intersectDefaults;\n","import getSearchParam from './param.js';\nimport uploadAttachment from './attachment.js';\nimport intersectDefaults from './defaults.js';\nimport getUniqueId from './uniqid.js';\nimport getElement from './dataget.js';\n\nconst Helper = {\n\tparam: getSearchParam,\n\tattachment: uploadAttachment,\n\tdefaults: intersectDefaults,\n\tuniqid: getUniqueId,\n\tdataget: getElement,\n};\n\nexport default Helper;\n","/**\n * Get current location search parameter.\n *\n * @param {string} key URL parameter key.\n */\nfunction getSearchParam( key ) {\n\tconst params = new URL( document.location.href );\n\n\treturn params.searchParams.get( key );\n}\n\nexport default getSearchParam;\n","import { customAlphabet } from 'nanoid';\n\n/**\n * Get unique param on custom alhpabeth.\n */\nfunction getUniqueId() {\n\tconst nanoid = customAlphabet( '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz', 12 );\n\n\treturn nanoid();\n}\n\nexport default getUniqueId;\n","import { urlAlphabet } from './url-alphabet/index.js'\nexport { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (size--) {\n    id += urlAlphabet[bytes[size] & 63]\n  }\n  return id\n}\n","export const urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* global ajaxurl:true */\nimport Build from '../builders';\n\nimport './styles.scss';\n\n// Store global script object for metabox.\nlet params = null;\n\n// Widget HTML element.\nlet widget = null;\n\n/**\n * Show widget warning message.\n *\n * @param {string} message Warning message.\n */\nfunction showWidgetError( message ) {\n\tconst warning = widget.querySelector( '.sharing-image-widget-warning' );\n\n\tif ( null === warning ) {\n\t\treturn;\n\t}\n\n\twarning.classList.add( 'warning-visible' );\n\twarning.textContent = message || wp.i18n.__( 'Unknown generation error', 'sharing-image' );\n}\n\n/**\n * Remove warning message block.\n */\nfunction hideWidgetError() {\n\tconst warning = widget.querySelector( '.sharing-image-widget-warning' );\n\n\tif ( null === warning ) {\n\t\treturn;\n\t}\n\n\twarning.classList.remove( 'warning-visible' );\n}\n\n/**\n * Handle poster generation action.\n */\nfunction generatePoster() {\n\tconst request = new XMLHttpRequest();\n\trequest.open( 'POST', ajaxurl );\n\trequest.responseType = 'json';\n\n\twidget.classList.add( 'widget-loader' );\n\n\t// Create data form data bundle.\n\tconst bundle = new window.FormData();\n\tbundle.set( 'action', 'sharing_image_generate' );\n\n\twidget.querySelectorAll( '[name]' ).forEach( ( field ) => {\n\t\tbundle.append( field.name, field.value );\n\t} );\n\n\thideWidgetError();\n\n\tconst poster = widget.querySelector( '.sharing-image-widget-poster' );\n\n\trequest.addEventListener( 'load', () => {\n\t\tconst response = request.response || {};\n\n\t\t// Hide preview loader on request complete.\n\t\twidget.classList.remove( 'widget-loader', 'widget-auto' );\n\n\t\tif ( ! response.data ) {\n\t\t\treturn showWidgetError();\n\t\t}\n\n\t\tif ( ! response.success ) {\n\t\t\treturn showWidgetError( response.data );\n\t\t}\n\n\t\tparams.meta.source = response.data;\n\n\t\tfor ( const key in response.data ) {\n\t\t\tposter.querySelectorAll( 'input' ).forEach( ( input ) => {\n\t\t\t\tconst name = params.name.source + '[' + key + ']';\n\n\t\t\t\tif ( name === input.name ) {\n\t\t\t\t\tinput.value = response.data[ key ];\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tlet image = poster.querySelector( 'img' );\n\n\t\tif ( null === image ) {\n\t\t\timage = Build.element( 'img', {\n\t\t\t\tappend: poster,\n\t\t\t} );\n\t\t}\n\n\t\timage.src = response.data.poster;\n\n\t\tif ( 'auto' === response.data.method ) {\n\t\t\twidget.classList.add( 'widget-auto' );\n\t\t}\n\n\t\t// Show the poster.\n\t\twidget.classList.add( 'widget-visible' );\n\t} );\n\n\trequest.addEventListener( 'error', () => {\n\t\tshowWidgetError();\n\n\t\t// Hide preview loader on request complete.\n\t\twidget.classList.remove( 'widget-loader' );\n\t} );\n\n\trequest.send( bundle );\n}\n\n/**\n * Create designer template selector.\n *\n * @param {HTMLElement} designer Designer element.\n * @param {Object}      selected Seleted template.\n */\nfunction createTemplateSelector( designer, selected ) {\n\tconst fields = {};\n\n\tfor ( const key in params.templates ) {\n\t\tfields[ key ] = params.templates[ key ]?.title || wp.i18n.__( 'Untitled', 'sharing-image' );\n\t}\n\n\tconst template = Build.select(\n\t\t{\n\t\t\tclasses: [ 'sharing-image-widget-template' ],\n\t\t\toptions: fields,\n\t\t\tattributes: {\n\t\t\t\tname: params.name.source + '[template]',\n\t\t\t},\n\t\t\tselected: String( selected ),\n\t\t},\n\t\tdesigner\n\t);\n\n\ttemplate.addEventListener( 'change', () => {\n\t\tconst fieldset = designer.querySelectorAll( '.sharing-image-widget-fieldset' );\n\n\t\tfor ( let i = 0; i < fieldset.length; i++ ) {\n\t\t\tconst item = fieldset[ i ];\n\t\t\titem.classList.remove( 'fieldset-visible' );\n\n\t\t\tif ( item.dataset.index === template.value ) {\n\t\t\t\titem.classList.add( 'fieldset-visible' );\n\t\t\t}\n\t\t}\n\t} );\n\n\treturn template;\n}\n\n/**\n * Try to prefill text layer field.\n *\n * @param {HTMLElement} textarea Textarea field.\n * @param {string}      preset   Preset field.\n * @param {Array}       data     Widget data object.\n */\nfunction presetTextLayer( textarea, preset, data ) {\n\tconst source = document.getElementById( preset );\n\n\tif ( null === source ) {\n\t\treturn;\n\t}\n\n\tconst updateField = () => {\n\t\tif ( 'manual' === data.source.method ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttextarea.value = source.value;\n\t};\n\n\tsource.addEventListener( 'input', updateField );\n\n\t// Stop textarea update after first user input.\n\ttextarea.addEventListener( 'input', () => {\n\t\tsource.removeEventListener( 'input', updateField );\n\t} );\n\n\tupdateField();\n}\n\n/**\n * Try to prefill text layer field with categories.\n *\n * @param {HTMLElement} textarea Textarea field.\n * @param {Array}       data     Widget data object.\n */\nfunction presetTextLayerCategories( textarea, data ) {\n\tconst metabox = document.getElementById( 'categorychecklist' );\n\n\tif ( ! metabox ) {\n\t\treturn;\n\t}\n\n\tconst separator = params.separator || ', ';\n\n\t// Helper function to get checked categories.\n\tconst updateField = () => {\n\t\tconst content = [];\n\n\t\tif ( 'manual' === data.source.method ) {\n\t\t\treturn;\n\t\t}\n\n\t\tmetabox.querySelectorAll( 'input:checked' ).forEach( ( el ) => {\n\t\t\tif ( el.parentNode?.textContent ) {\n\t\t\t\tcontent.push( el.parentNode.textContent.trim() );\n\t\t\t}\n\t\t} );\n\n\t\ttextarea.value = content.join( separator );\n\t};\n\n\tupdateField();\n\n\tmetabox.addEventListener( 'change', updateField );\n}\n\n/**\n * Try to prefill text layer field with tags.\n *\n * @param {HTMLElement} textarea Textarea field.\n * @param {Array}       data     Widget data object.\n */\nfunction presetTextLayerTags( textarea, data ) {\n\tconst checklist = document.querySelector( '#post_tag .tagchecklist' );\n\n\tif ( ! checklist || ! MutationObserver ) {\n\t\treturn;\n\t}\n\n\tconst separator = params.separator || ', ';\n\n\t// Update textarea field.\n\tconst updateField = () => {\n\t\tconst tags = document.getElementById( 'tax-input-post_tag' );\n\n\t\tif ( ! tags ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( 'manual' === data.source.method ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst content = tags.value.split( ',' );\n\n\t\ttextarea.value = content.join( separator );\n\t};\n\n\tupdateField();\n\n\tconst observer = new MutationObserver( updateField );\n\tobserver.observe( checklist, { childList: true } );\n}\n\n/**\n * Try to prefill image layer field.\n *\n * @param {HTMLElement} media Media element.\n * @param {Array}       data  Widget data object.\n */\nfunction presetImageLayer( media, data ) {\n\tconst frame = wp.media?.featuredImage?.frame();\n\n\tif ( frame ) {\n\t\tframe.on( 'select', () => {\n\t\t\tif ( 'manual' === data.source.method ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selection = frame.state().get( 'selection' ).first().toJSON();\n\n\t\t\tif ( selection.id ) {\n\t\t\t\tmedia.dispatchEvent( new CustomEvent( 'set_attachment', { detail: selection.id } ) );\n\t\t\t}\n\t\t} );\n\t}\n\n\t// Find featured image metabox.\n\tconst metabox = document.getElementById( 'postimagediv' );\n\n\tif ( ! metabox ) {\n\t\treturn;\n\t}\n\n\tmetabox.addEventListener( 'click', ( e ) => {\n\t\tif ( 'manual' === data.source.method ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( e.target.id === 'remove-post-thumbnail' ) {\n\t\t\tmedia.dispatchEvent( new CustomEvent( 'remove_attachment' ) );\n\t\t}\n\t} );\n\n\tif ( 'manual' === data.source.method ) {\n\t\treturn;\n\t}\n\n\tconst thumbnail = metabox.querySelector( '#_thumbnail_id' );\n\n\tif ( ! thumbnail ) {\n\t\treturn;\n\t}\n\n\tconst attachment = parseInt( thumbnail.value );\n\n\tif ( attachment > 0 ) {\n\t\tmedia.dispatchEvent( new CustomEvent( 'set_attachment', { detail: attachment } ) );\n\t}\n}\n\n/**\n * Create designer text layer.\n *\n * @param {HTMLElement} fieldset Fieldset element.\n * @param {Object}      layer    Layer data.\n * @param {string}      key      Layer key.\n * @param {Array}       data     Widget data object.\n */\nfunction createLayerText( fieldset, layer, key, data ) {\n\tconst textarea = Build.textarea(\n\t\t{\n\t\t\tclasses: [ 'sharing-image-widget-text' ],\n\t\t\tlabel: layer.title || null,\n\t\t\tattributes: {\n\t\t\t\tname: params.name.fieldset + `[${ key }]`,\n\t\t\t},\n\t\t},\n\t\tfieldset\n\t);\n\n\ttextarea.value = data.fieldset[ key ] || '';\n\n\t// Preset title.\n\tif ( layer.preset === 'title' ) {\n\t\tpresetTextLayer( textarea, 'title', data );\n\t}\n\n\t// Preset excerpt.\n\tif ( layer.preset === 'excerpt' ) {\n\t\tpresetTextLayer( textarea, 'excerpt', data );\n\t}\n\n\t// Preset categories.\n\tif ( layer.preset === 'categories' ) {\n\t\tpresetTextLayerCategories( textarea, data );\n\t}\n\n\t// Preset tags.\n\tif ( layer.preset === 'tags' ) {\n\t\tpresetTextLayerTags( textarea, data );\n\t}\n}\n\n/**\n * Create designer image layer.\n *\n * @param {HTMLElement} fieldset Fieldset element.\n * @param {Object}      layer    Layer data.\n * @param {string}      key      Layer key.\n * @param {Array}       data     Widget data object.\n */\nfunction createLayerImage( fieldset, layer, key, data ) {\n\tconst media = Build.media( {\n\t\tname: params.name.fieldset + `[${ key }]`,\n\t\tclasses: [ 'sharing-image-widget-image' ],\n\t\tlabel: layer.title || null,\n\t\tvalue: data.fieldset[ key ] || '',\n\t\tlabels: {\n\t\t\tbutton: wp.i18n.__( 'Set layer image', 'sharing-image' ),\n\t\t\theading: wp.i18n.__( 'Select image', 'sharing-image' ),\n\t\t\tdetails: wp.i18n.__( 'Attachment', 'sharing-image' ),\n\t\t\tremove: wp.i18n.__( 'Remove image', 'sharing-image' ),\n\t\t},\n\t\tmime: [ 'image/png', 'image/jpeg', 'image/gif', 'image/webp' ],\n\t\timage: true,\n\t\tremove: true,\n\t\tappend: fieldset,\n\t} );\n\n\t// Preset title.\n\tif ( layer.preset === 'featured' ) {\n\t\tpresetImageLayer( media, data );\n\t}\n}\n\n/**\n * Create fields designer.\n *\n * @param {Object} data Widget data object.\n */\nfunction createDesigner( data ) {\n\tif ( Object.keys( params.templates ).length < 1 ) {\n\t\treturn;\n\t}\n\n\tconst designer = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-widget-designer' ],\n\t} );\n\n\tlet selected = data.source.template || null;\n\n\t// Reset selected template if index undefined.\n\tif ( ! params.templates[ selected ] ) {\n\t\tselected = Object.keys( params.templates )[ 0 ];\n\t}\n\n\tcreateTemplateSelector( designer, selected );\n\n\tfor ( const index in params.templates ) {\n\t\tconst template = params.templates[ index ];\n\n\t\tconst fieldset = Build.element( 'div', {\n\t\t\tclasses: [ 'sharing-image-widget-fieldset' ],\n\t\t\tdataset: {\n\t\t\t\tindex: index,\n\t\t\t},\n\t\t\tappend: designer,\n\t\t} );\n\n\t\tif ( index === selected ) {\n\t\t\tfieldset.classList.add( 'fieldset-visible' );\n\t\t}\n\n\t\tconst layers = template.layers || {};\n\n\t\tfor ( const key in layers ) {\n\t\t\tconst layer = layers[ key ];\n\n\t\t\tif ( ! layer.dynamic ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tswitch ( layer.type ) {\n\t\t\t\tcase 'text':\n\t\t\t\t\tcreateLayerText( fieldset, layer, key, data );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'image':\n\t\t\t\t\tcreateLayerImage( fieldset, layer, key, data );\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\twidget.appendChild( designer );\n\n\treturn designer;\n}\n\n/**\n * Create button to generate new metabox poster.\n *\n * @param {HTMLElement} manager Manager element.\n */\nfunction createGenerateButton( manager ) {\n\tconst button = Build.element( 'button', {\n\t\tclasses: [ 'sharing-image-widget-generate', 'button' ],\n\t\ttext: wp.i18n.__( 'Generate', 'sharing-image' ),\n\t\tattributes: {\n\t\t\ttype: 'button',\n\t\t},\n\t\tappend: manager,\n\t} );\n\n\tbutton.addEventListener( 'click', () => {\n\t\tgeneratePoster();\n\t} );\n}\n\n/**\n * Create button to delete current metabox poster.\n *\n * @param {HTMLElement} manager Manager element.\n */\nfunction createDeleteButton( manager ) {\n\tconst button = Build.element( 'button', {\n\t\tclasses: [ 'sharing-image-widget-delete', 'button', 'button-delete' ],\n\t\ttext: wp.i18n.__( 'Remove', 'sharing-image' ),\n\t\tattributes: {\n\t\t\ttype: 'button',\n\t\t},\n\t\tappend: manager,\n\t} );\n\n\tbutton.addEventListener( 'click', () => {\n\t\tconst image = widget.querySelector( '.sharing-image-widget-poster img' );\n\n\t\tif ( null === image ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst poster = image.parentNode;\n\t\tposter.removeChild( image );\n\n\t\tposter.querySelectorAll( 'input' ).forEach( ( input ) => {\n\t\t\tinput.value = '';\n\n\t\t\tif ( input.name === params.name.source + '[method]' ) {\n\t\t\t\tinput.value = 'manual';\n\t\t\t}\n\t\t} );\n\n\t\twidget.classList.remove( 'widget-visible' );\n\t} );\n}\n\n/**\n * Create widget manager.\n *\n * @param {HTMLElement} designer Designer element.\n */\nfunction createManager( designer ) {\n\tconst manager = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-widget-manager' ],\n\t\tappend: designer,\n\t} );\n\n\tcreateGenerateButton( manager );\n\tcreateDeleteButton( manager );\n\n\tBuild.element( 'span', {\n\t\tclasses: [ 'sharing-image-widget-spinner', 'spinner' ],\n\t\tappend: manager,\n\t} );\n}\n\n/**\n * Create poster block.\n *\n * @param {Object} data Widget data object.\n */\nfunction createPoster( data ) {\n\tconst poster = Build.element( 'div', {\n\t\tclasses: [ 'sharing-image-widget-poster' ],\n\t\tappend: widget,\n\t} );\n\n\tBuild.element( 'span', {\n\t\tclasses: [ 'sharing-image-widget-method' ],\n\t\tattributes: {\n\t\t\ttitle: wp.i18n.__( 'Poster was generated automatically and will update on post saving.', 'sharing-image' ),\n\t\t},\n\t\tappend: poster,\n\t} );\n\n\tif ( 'auto' === data.source.method ) {\n\t\twidget.classList.add( 'widget-auto' );\n\t}\n\n\tif ( data.source.poster ) {\n\t\tBuild.element( 'img', {\n\t\t\tattributes: {\n\t\t\t\tsrc: data.source.poster,\n\t\t\t\talt: '',\n\t\t\t},\n\t\t\tappend: poster,\n\t\t} );\n\n\t\twidget.classList.add( 'widget-visible' );\n\t}\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: params.name.source + '[poster]',\n\t\t\tvalue: data.source.poster || '',\n\t\t},\n\t\tappend: poster,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: params.name.source + '[width]',\n\t\t\tvalue: data.source.width,\n\t\t},\n\t\tappend: poster,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: params.name.source + '[height]',\n\t\t\tvalue: data.source.height,\n\t\t},\n\t\tappend: poster,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: params.name.source + '[method]',\n\t\t\tvalue: data.source.method,\n\t\t},\n\t\tappend: poster,\n\t} );\n}\n\n/**\n * Check that the poster sizes are set or show an error message.\n *\n * @param {Object} data Widget data object.\n */\nfunction showSizesWarning( data ) {\n\tif ( ! data.poster ) {\n\t\treturn;\n\t}\n\n\tif ( ! data.width || ! data.height ) {\n\t\tshowWidgetError( wp.i18n.__( 'Image sizes are not set. Regenerate the poster.', 'sharing-image' ) );\n\t}\n}\n\n/**\n * Build metabox fields.\n */\nfunction buildWidget() {\n\twhile ( widget.firstChild ) {\n\t\twidget.removeChild( widget.lastChild );\n\t}\n\n\tif ( params.context ) {\n\t\twidget.classList.add( `widget-${ params.context }` );\n\t}\n\n\tconst data = params.meta || {};\n\n\tcreatePoster( data );\n\n\t// Create fields designer.\n\tconst designer = createDesigner( data );\n\n\tBuild.element( 'div', {\n\t\tclasses: [ 'sharing-image-widget-warning' ],\n\t\tappend: designer,\n\t} );\n\n\tcreateManager( designer );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'sharing_image_nonce',\n\t\t\tvalue: params.nonce,\n\t\t},\n\t\tappend: widget,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'sharing_image_screen',\n\t\t\tvalue: params.screen,\n\t\t},\n\t\tappend: widget,\n\t} );\n\n\tBuild.element( 'input', {\n\t\tattributes: {\n\t\t\ttype: 'hidden',\n\t\t\tname: 'sharing_image_context',\n\t\t\tvalue: params.context,\n\t\t},\n\t\tappend: widget,\n\t} );\n\n\tshowSizesWarning( data );\n}\n\n/**\n * Init metabox handler.\n */\n( function () {\n\tif ( typeof 'undefined' === wp ) {\n\t\treturn;\n\t}\n\n\tparams = window.sharingImageWidget || {};\n\n\t// Find only single Sharing Image widget on page.\n\twidget = document.querySelector( '.sharing-image-widget' );\n\n\tif ( ! widget ) {\n\t\treturn;\n\t}\n\n\tbuildWidget( widget );\n} )();\n"],"names":["buildElement","buildCheckbox","args","parent","field","classes","append","checkbox","attributes","type","dataset","hasOwnProperty","key","value","undefined","setAttribute","checked","label","text","appendChild","buildInput","buildRadio","buildSelect","buildTextarea","buildControl","control","prepend","insertBefore","firstChild","description","fields","forEach","group","help","tag","element","document","createElement","cl","classList","add","textContent","innerHTML","html","buildLayer","buildMedia","Build","layer","media","input","textarea","radio","select","counter","title","wp","i18n","__","addEventListener","Helper","displayImage","figure","querySelector","removeChild","nextSibling","image","frame","attachment","fetch","then","data","src","sizes","thumbnail","url","labels","name","button","details","target","setAttachment","id","dispatchEvent","Event","bubbles","link","URL","searchParams","set","href","remove","removeAttachment","options","heading","library","mime","e","detail","option","selected","content","uploadMedia","callback","multiple","on","selection","state","get","first","toJSON","open","getElement","node","intersectDefaults","object","defaults","item","getSearchParam","uploadAttachment","getUniqueId","param","uniqid","dataget","params","location","customAlphabet","nanoid","widget","showWidgetError","message","warning","hideWidgetError","generatePoster","request","XMLHttpRequest","ajaxurl","responseType","bundle","window","FormData","querySelectorAll","poster","response","success","meta","source","method","send","createTemplateSelector","designer","templates","template","String","fieldset","i","length","index","presetTextLayer","preset","getElementById","updateField","removeEventListener","presetTextLayerCategories","metabox","separator","el","parentNode","push","trim","join","presetTextLayerTags","checklist","MutationObserver","tags","split","observer","observe","childList","presetImageLayer","featuredImage","CustomEvent","parseInt","createLayerText","createLayerImage","createDesigner","Object","keys","layers","dynamic","createGenerateButton","manager","createDeleteButton","createManager","createPoster","alt","width","height","showSizesWarning","buildWidget","lastChild","context","nonce","screen","sharingImageWidget"],"sourceRoot":""}